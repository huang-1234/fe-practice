"use strict";(self.webpackChunkwebpack_zero=self.webpackChunkwebpack_zero||[]).push([[829],{31481:(e,t,n)=>{n.r(t),n.d(t,{Leva:()=>Or,LevaInputs:()=>G,LevaPanel:()=>Tr,LevaStoreProvider:()=>me,button:()=>Gn,buttonGroup:()=>Kn,folder:()=>Bn,levaStore:()=>An,monitor:()=>Zn,useControls:()=>_r,useCreateStore:()=>Hn,useStoreContext:()=>fe});var r=n(73940),o=n(47288),i=n(80918),a=n(46191),l=n(36663),s=n(79006),c=n(5668),u=n(48366),d=n(85377);function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}let p;!function(e){e[e.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",e[e.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",e[e.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",e[e.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",e[e.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",e[e.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",e[e.THEME_ERROR=6]="THEME_ERROR",e[e.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",e[e.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",e[e.EMPTY_KEY=9]="EMPTY_KEY"}(p||(p={}));const g={[p.UNSUPPORTED_INPUT]:(e,t)=>[`An input with type \`${e}\` input was found at path \`${t}\` but it's not supported yet.`],[p.NO_COMPONENT_FOR_TYPE]:(e,t)=>[`Type \`${e}\` found at path \`${t}\` can't be displayed in panel because no component supports it yet.`],[p.UNKNOWN_INPUT]:(e,t)=>[`input at path \`${e}\` is not recognized.`,t],[p.DUPLICATE_KEYS]:(e,t,n)=>[`Key \`${e}\` of path \`${t}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[p.ALREADY_REGISTERED_TYPE]:e=>[`Type ${e} has already been registered. You can't register a component with the same type.`],[p.CLIPBOARD_ERROR]:e=>["Error copying the value",e],[p.THEME_ERROR]:(e,t)=>[`Error accessing the theme \`${e}.${t}\` value.`],[p.PATH_DOESNT_EXIST]:e=>[`Error getting the value at path \`${e}\`. There is probably an error in your \`render\` function.`],[p.PATH_DOESNT_EXIST]:e=>[`Error accessing the value at path \`${e}\``],[p.INPUT_TYPE_OVERRIDE]:(e,t,n)=>[`Input at path \`${e}\` already exists with type: \`${t}\`. Its type cannot be overridden with type \`${n}\`.`],[p.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function f(e,t,...n){const[r,...o]=g[t](...n);console[e]("LEVA: "+r,...o)}const m=f.bind(null,"warn"),v=f.bind(null,"log"),b=["value"],E=["schema"],y=["value"],$=[],w={};function x(e){let{value:t}=e,n=h(e,b);for(let e of $){const r=e(t,n);if(r)return r}}function C(e,t){let{schema:n}=t,r=h(t,E);e in w?m(p.ALREADY_REGISTERED_TYPE,e):($.push(((t,r)=>n(t,r)&&e)),w[e]=r)}function R(e,t,n,r){const{normalize:o}=w[e];if(o)return o(t,n,r);if("object"!=typeof t||!("value"in t))return{value:t};const{value:i}=t;return{value:i,settings:h(t,y)}}function k(e,t,n){const{format:r}=w[e];return r?r(t,n):t}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _=(e,t,n)=>e>n?n:e<t?t:e,P=e=>{if(""===e||"number"==typeof e)return e;try{const t=H(e);if(!isNaN(t))return t}catch(e){}return parseFloat(e)},N=Math.log(10);function I(e){let t=Math.abs(+String(e).replace(".",""));if(0===t)return.01;for(;0!==t&&t%10==0;)t/=10;const n=Math.floor(Math.log(t)/N)+1,r=Math.floor(Math.log10(Math.abs(e))),o=Math.pow(10,r-n);return Math.max(o,.001)}const j=(e,t,n)=>n===t?0:(_(e,t,n)-t)/(n-t),L=(e,t,n)=>e*(n-t)+t,U=/\(([0-9+\-*/^ .]+)\)/,z=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,M=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,D=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,V=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,A=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function H(e){if(isNaN(Number(e))){if(U.test(e)){const t=e.replace(U,((e,t)=>String(H(t))));return H(t)}return z.test(e)?H(e.replace(z,((e,t,n)=>String(Math.pow(Number(t),Number(n)))))):M.test(e)?H(e.replace(M,((e,t,n)=>String(Number(t)*Number(n))))):D.test(e)?H(e.replace(D,((e,t,n)=>{if(0!=n)return String(Number(t)/Number(n));throw new Error("Division by zero")}))):V.test(e)?H(e.replace(V,((e,t,n)=>String(Number(t)+Number(n))))):A.test(e)?H(e.replace(A,((e,t,n)=>String(Number(t)-Number(n))))):Number(e)}return Number(e)}function F(e){return"[object Object]"===Object.prototype.toString.call(e)}const B=e=>F(e)&&0===Object.keys(e).length;let W,G;!function(e){e.BUTTON="BUTTON",e.BUTTON_GROUP="BUTTON_GROUP",e.MONITOR="MONITOR",e.FOLDER="FOLDER"}(W||(W={})),function(e){e.SELECT="SELECT",e.IMAGE="IMAGE",e.NUMBER="NUMBER",e.COLOR="COLOR",e.STRING="STRING",e.BOOLEAN="BOOLEAN",e.INTERVAL="INTERVAL",e.VECTOR3D="VECTOR3D",e.VECTOR2D="VECTOR2D"}(G||(G={}));const K=["type","__customInput"],Y=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Z=["type"];function X(e,t,n={},r){var o,i;if("object"!=typeof e||Array.isArray(e))return{type:r,input:e,options:T({key:t,label:t,optional:!1,disabled:!1,order:0},n)};if("__customInput"in e){const{type:n,__customInput:r}=e;return X(r,t,h(e,K),n)}const{render:a,label:l,optional:s,order:c=0,disabled:u,hint:d,onChange:p,onEditStart:g,onEditEnd:f,transient:m}=e,v=h(e,Y),b=T({render:a,key:t,label:null!=l?l:t,hint:d,transient:null!=m?m:!!p,onEditStart:g,onEditEnd:f,disabled:u,optional:s,order:c},n);let E,{type:y}=v,$=h(v,Z);return y=null!=r?r:y,y in W?{type:y,input:$,options:b}:(E=r&&F($)&&"value"in $?$.value:B($)?void 0:$,{type:y,input:E,options:T(T({},b),{},{onChange:p,optional:null!==(o=b.optional)&&void 0!==o&&o,disabled:null!==(i=b.disabled)&&void 0!==i&&i})})}function J(e,t,n,r){const o=X(e,t),{type:i,input:a,options:l}=o;if(i)return i in W?o:{type:i,input:R(i,a,n,r),options:l};let s=x(a);return s?{type:s,input:R(s,a,n,r),options:l}:(s=x({value:a}),!!s&&{type:s,input:R(s,{value:a},n,r),options:l})}function q(e,t,n,r,o){const{value:i,type:a,settings:l}=e;e.value=ee({type:a,value:i,settings:l},t,n,r),e.fromPanel=o}const Q=function(e,t,n){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=n};function ee({type:e,value:t,settings:n},r,o,i){const l="SELECT"!==e&&"function"==typeof r?r(t):r;let s;try{s=function(e,t,n,r,o,i){const{sanitize:a}=w[e];return a?a(t,n,r,o,i):t}(e,l,n,t,o,i)}catch(e){throw new Q(`The value \`${r}\` did not result in a correct value.`,t,e)}return(0,a.J)(s,t)?t:s}const te=(e,t,n=!1)=>{let r=0;return function(){const o=arguments,i=n&&!r,a=()=>e.apply(this,o);window.clearTimeout(r),r=window.setTimeout(a,t),i&&a()}},ne=e=>e.shiftKey?5:e.altKey?.2:1,re=["value"],oe=["min","max"],ie=(e,{min:t=-1/0,max:n=1/0,suffix:r})=>{const o=parseFloat(e);if(""===e||isNaN(o))throw Error("Invalid number");const i=_(o,t,n);return r?i+r:i},ae=e=>{let{value:t}=e,n=h(e,re);const{min:r=-1/0,max:o=1/0}=n,i=h(n,oe);let a=parseFloat(t);const l="string"==typeof t?t.substring((""+a).length):void 0;a=_(a,r,o);let s=n.step;s||(Number.isFinite(r)?s=Number.isFinite(o)?+(Math.abs(o-r)/100).toPrecision(1):+(Math.abs(a-r)/100).toPrecision(1):Number.isFinite(o)&&(s=+(Math.abs(o-a)/100).toPrecision(1)));const c=s?10*I(s):I(a);return s=s||c/10,{value:l?a+l:a,settings:T({initialValue:a,step:s,pad:Math.round(_(Math.log10(1/c),0,2)),min:r,max:o,suffix:l},i)}},le=(e,{step:t,initialValue:n})=>n+Math.round((e-n)/t)*t;var se=Object.freeze({__proto__:null,schema:e=>{if("number"==typeof e)return!0;if("string"==typeof e){const t=parseFloat(e);return!isNaN(t)&&e.substring((""+t).length).trim().length<4}return!1},sanitize:ie,format:(e,{pad:t=0,suffix:n})=>{const r=parseFloat(e).toFixed(t);return n?r+n:r},normalize:ae,sanitizeStep:le});function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}const ue=(0,o.createContext)({});function de(){return(0,o.useContext)(ue)}const he=(0,o.createContext)(null),pe=(0,o.createContext)(null),ge=(0,o.createContext)(null);function fe(){return(0,o.useContext)(pe)}function me({children:e,store:t}){return o.createElement(pe.Provider,{value:t},e)}const ve=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function be(e,t){const[n,r]=e.split(" "),o={};return"none"!==n&&(o.boxShadow=`${t.inset?"inset ":""}0 0 0 $borderWidths${[t.key]} $colors${"default"!==n&&n||t.borderColor}`),r&&(o.backgroundColor=r),o}const Ee={$inputStyle:()=>e=>be(e,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>e=>be(e,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>e=>be(e,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>e=>be(e,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:ye,css:$e,createTheme:we,globalCss:xe,keyframes:Ce}=(0,c.Th)({prefix:"leva",theme:ve(),utils:T(T({},Ee),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:e=>({"&:focus":Ee.$focusStyle()(e)}),$focusWithin:e=>({"&:focus-within":Ee.$focusStyle()(e)}),$hover:e=>({"&:hover":Ee.$hoverStyle()(e)}),$active:e=>({"&:active":Ee.$activeStyle()(e)})})}),Re=xe({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function ke(e,t){const{theme:n}=(0,o.useContext)(he);if(!(e in n)||!(t in n[e]))return m(p.THEME_ERROR,e,t),"";let r=t;for(;;){let t=n[e][r];if("string"!=typeof t||"$"!==t.charAt(0))return t;r=t.substr(1)}}const Oe=ye("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),Se=ye("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${Oe}`]:{paddingLeft:0}}),Te=ye(Se,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),_e=ye("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Pe=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Ne=["onUpdate"];function Ie(e){let{innerLabel:t,value:n,onUpdate:r,onChange:i,onKeyDown:a,type:l,id:s,inputType:c="text",rows:u=0}=e,d=h(e,Pe);const{id:p,emitOnEditStart:g,emitOnEditEnd:f,disabled:m}=de(),v=s||p,b=(0,o.useRef)(null),E=u>0,y=E?"textarea":"input",$=(0,o.useCallback)((e=>t=>{const n=t.currentTarget.value;e(n)}),[]);o.useEffect((()=>{const e=b.current,t=$((e=>{r(e),f()}));return null==e||e.addEventListener("blur",t),()=>null==e?void 0:e.removeEventListener("blur",t)}),[$,r,f]);const w=(0,o.useCallback)((e=>{"Enter"===e.key&&$(r)(e)}),[$,r]),x=Object.assign({as:y},E?{rows:u}:{},d);return o.createElement(_e,{textArea:E},t&&"string"==typeof t?o.createElement(Se,null,t):t,o.createElement(Oe,ce({levaType:l,ref:b,id:v,type:c,autoComplete:"off",spellCheck:"false",value:n,onChange:$(i),onFocus:()=>g(),onKeyPress:w,onKeyDown:a,disabled:m},x)))}function je(e){let{onUpdate:t}=e,n=h(e,Ne);const r=(0,o.useCallback)((e=>t(P(e))),[t]),i=(0,o.useCallback)((e=>{const n="ArrowUp"===e.key?1:"ArrowDown"===e.key?-1:0;if(n){e.preventDefault();const r=e.altKey?.1:e.shiftKey?10:1;t((e=>parseFloat(e)+n*r))}}),[t]);return o.createElement(Ie,ce({},n,{onUpdate:r,onKeyDown:i,type:"number"}))}const Le=ye("div",{}),Ue=ye("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),ze=ye("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${Ue}::after`]:{opacity:.6},[`${Le}:hover > & + ${Ue}::after`]:{opacity:.6},[`${Le}:hover > & > svg`]:{opacity:1}}),Me=ye("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${Le}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),De=ye("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${Me} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),Ve=ye(De,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Ae=ye("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),He=ye("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),Fe=ye("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),Be=ye("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${Fe}`]:{pointerEvents:"auto"}}}}}),We=ye("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Ge=ye("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Ke=ye(d.Eh,{fill:"$toolTipBackground"});function Ye({children:e}){const{className:t}=(0,o.useContext)(he);return o.createElement(i.fC,{className:t},e)}const Ze=["align"];function Xe(){const{id:e,disable:t,disabled:n}=de();return o.createElement(o.Fragment,null,o.createElement(He,{id:e+"__disable",type:"checkbox",checked:!n,onChange:()=>t(!n)}),o.createElement("label",{htmlFor:e+"__disable"}))}function Je(e){const{id:t,optional:n,hint:r}=de(),i=e.htmlFor||(t?{htmlFor:t}:null),a=r||"string"!=typeof e.children?null:{title:e.children};return o.createElement(o.Fragment,null,n&&o.createElement(Xe,null),void 0!==r?o.createElement(d.fC,null,o.createElement(d.xz,{asChild:!0},o.createElement(Fe,ce({},i,e))),o.createElement(d.VY,{side:"top",sideOffset:2},o.createElement(Ge,null,r,o.createElement(Ke,null)))):o.createElement(Fe,ce({},i,a,e)))}function qe(e){let{align:t}=e,n=h(e,Ze);const{value:r,label:i,key:a,disabled:l}=de(),{hideCopyButton:s}=(0,o.useContext)(ge),c=!s&&void 0!==a,[u,d]=(0,o.useState)(!1);return o.createElement(Ae,{align:t,onPointerLeave:()=>d(!1)},o.createElement(Je,n),c&&!l&&o.createElement("div",{title:`Click to copy ${"string"==typeof i?i:a} value`},u?o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},o.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),o.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):o.createElement("svg",{onClick:async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[a]:null!=r?r:""})),d(!0)}catch(e){m(p.CLIPBOARD_ERROR,{[a]:r})}},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},o.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),o.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Qe=["toggled"],et=ye("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function tt(e){let{toggled:t}=e,n=h(e,Qe);return o.createElement(et,ce({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${t?0:-90}deg)`}},n),o.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const nt=["input"];function rt(e){let{input:t}=e,n=h(e,nt);return t?o.createElement(Ve,n):o.createElement(De,n)}function ot({value:e,type:t,settings:n,setValue:r}){const[i,l]=(0,o.useState)(k(t,e,n)),s=(0,o.useRef)(e),c=(0,o.useRef)(n);c.current=n;const u=(0,o.useCallback)((e=>l(k(t,e,c.current))),[t]),d=(0,o.useCallback)((e=>{try{r(e)}catch(e){const{type:t,previousValue:n}=e;if("LEVA_ERROR"!==t)throw e;u(n)}}),[u,r]);return(0,o.useEffect)((()=>{(0,a.J)(e,s.current)||u(e),s.current=e}),[e,u]),{displayValue:i,onChange:l,onUpdate:d}}function it(e,t){const{emitOnEditStart:n,emitOnEditEnd:r}=de();return(0,u.useDrag)((t=>{t.first&&(document.body.classList.add("leva__panel__dragged"),null==n||n());const o=e(t);return t.last&&(document.body.classList.remove("leva__panel__dragged"),null==r||r()),o}),t)}function at(){const e=(0,o.useRef)(null),t=(0,o.useRef)({x:0,y:0}),n=(0,o.useCallback)((n=>{Object.assign(t.current,n),e.current&&(e.current.style.transform=`translate3d(${t.current.x}px, ${t.current.y}px, 0)`)}),[]);return[e,n]}const lt=["__refCount"],st=(e,t)=>e[t]?h(e[t],lt):null,ct=ye("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),ut=ye("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),dt=ye("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),ht=ye("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),pt=ye("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function gt({value:e,min:t,max:n,onDrag:r,step:i,initialValue:a}){const l=(0,o.useRef)(null),s=(0,o.useRef)(null),c=(0,o.useRef)(0),u=ke("sizes","scrubberWidth"),d=it((({event:o,first:d,xy:[h],movement:[p],memo:g})=>{if(d){const{width:r,left:i}=l.current.getBoundingClientRect();c.current=r-parseFloat(u),g=(null==o?void 0:o.target)===s.current?e:L((h-i)/r,t,n)}const f=g+L(p/c.current,0,n-t);return r(le(f,{step:i,initialValue:a})),g})),h=j(e,t,n);return o.createElement(ht,ce({ref:l},d()),o.createElement(ut,null,o.createElement(pt,{style:{left:0,right:100*(1-h)+"%"}})),o.createElement(dt,{ref:s,style:{left:`calc(${h} * (100% - ${u}))`}}))}const ft=o.memo((({label:e,onUpdate:t,step:n,innerLabelTrim:r})=>{const[i,a]=(0,o.useState)(!1),l=it((({active:e,delta:[r],event:o,memo:i=0})=>(a(e),i+=r/2,Math.abs(i)>=1&&(t((e=>parseFloat(e)+Math.floor(i)*n*ne(o))),i=0),i)));return o.createElement(Te,ce({dragging:i,title:e.length>1?e:""},l()),e.slice(0,r))}));function mt({label:e,id:t,displayValue:n,onUpdate:r,onChange:i,settings:a,innerLabelTrim:l=1}){const s=l>0&&o.createElement(ft,{label:e,step:a.step,onUpdate:r,innerLabelTrim:l});return o.createElement(je,{id:t,value:String(n),onUpdate:r,onChange:i,innerLabel:s})}const{sanitizeStep:vt}=se;var bt=T({component:function(){const e=de(),{label:t,value:n,onUpdate:r,settings:i,id:a}=e,{min:l,max:s}=i,c=s!==1/0&&l!==-1/0;return o.createElement(rt,{input:!0},o.createElement(qe,null,t),o.createElement(ct,{hasRange:c},c&&o.createElement(gt,ce({value:parseFloat(n),onDrag:r},i)),o.createElement(mt,ce({},e,{id:a,label:"value",innerLabelTrim:c?0:1}))))}},h(se,["sanitizeStep"])),Et=Object.freeze({__proto__:null,schema:(e,t)=>(0,s.Z)().schema({options:(0,s.Z)().passesAnyOf((0,s.Z)().object(),(0,s.Z)().array())}).test(t),sanitize:(e,{values:t})=>{if(t.indexOf(e)<0)throw Error("Selected value doesn't match Select options");return e},format:(e,{values:t})=>t.indexOf(e),normalize:e=>{let t,n,{value:r,options:o}=e;return Array.isArray(o)?(n=o,t=o.map((e=>String(e)))):(n=Object.values(o),t=Object.keys(o)),"value"in e?n.includes(r)||(t.unshift(String(r)),n.unshift(r)):r=n[0],Object.values(o).includes(r)||(o[String(r)]=r),{value:r,settings:{keys:t,values:n}}}});const yt=ye("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),$t=ye("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),wt=ye("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${$t}:focus + &`]:{$focusStyle:""},[`${$t}:hover + &`]:{$hoverStyle:""}});function xt({displayValue:e,value:t,onUpdate:n,id:r,settings:i,disabled:a}){const{keys:l,values:s}=i,c=(0,o.useRef)();return t===s[e]&&(c.current=l[e]),o.createElement(yt,null,o.createElement($t,{id:r,value:e,onChange:e=>n(s[Number(e.currentTarget.value)]),disabled:a},l.map(((e,t)=>o.createElement("option",{key:e,value:t},e)))),o.createElement(wt,null,c.current),o.createElement(tt,{toggled:!0}))}var Ct=T({component:function(){const{label:e,value:t,displayValue:n,onUpdate:r,id:i,disabled:a,settings:l}=de();return o.createElement(rt,{input:!0},o.createElement(qe,null,e),o.createElement(xt,{id:i,value:t,displayValue:n,onUpdate:r,settings:l,disabled:a}))}},Et),Rt=Object.freeze({__proto__:null,schema:e=>(0,s.Z)().string().test(e),sanitize:e=>{if("string"!=typeof e)throw Error("Invalid string");return e},normalize:({value:e,editable:t=!0,rows:n=!1})=>({value:e,settings:{editable:t,rows:"number"==typeof n?n:n?5:0}})});const kt=["displayValue","onUpdate","onChange","editable"],Ot=ye("div",{whiteSpace:"pre-wrap"});function St(e){let{displayValue:t,onUpdate:n,onChange:r,editable:i=!0}=e,a=h(e,kt);return i?o.createElement(Ie,ce({value:t,onUpdate:n,onChange:r},a)):o.createElement(Ot,null,t)}var Tt=T({component:function(){const{label:e,settings:t,displayValue:n,onUpdate:r,onChange:i}=de();return o.createElement(rt,{input:!0},o.createElement(qe,null,e),o.createElement(St,ce({displayValue:n,onUpdate:r,onChange:i},t)))}},Rt),_t=Object.freeze({__proto__:null,schema:e=>(0,s.Z)().boolean().test(e),sanitize:e=>{if("boolean"!=typeof e)throw Error("Invalid boolean");return e}});const Pt=ye("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Nt({value:e,onUpdate:t,id:n,disabled:r}){return o.createElement(Pt,null,o.createElement("input",{id:n,type:"checkbox",checked:e,onChange:e=>t(e.currentTarget.checked),disabled:r}),o.createElement("label",{htmlFor:n},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}var It=T({component:function(){const{label:e,value:t,onUpdate:n,disabled:r,id:i}=de();return o.createElement(rt,{input:!0},o.createElement(qe,null,e),o.createElement(Nt,{value:t,onUpdate:n,id:i,disabled:r}))}},_t);const jt=["locked"];function Lt({value:e,id:t,valueKey:n,settings:r,onUpdate:i,innerLabelTrim:a}){const l=(0,o.useRef)(e[n]);l.current=e[n];const s=(0,o.useCallback)((e=>i({[n]:ee({type:"NUMBER",value:l.current,settings:r},e)})),[i,r,n]),c=ot({type:"NUMBER",value:e[n],settings:r,setValue:s});return o.createElement(mt,{id:t,label:n,value:e[n],displayValue:c.displayValue,onUpdate:c.onUpdate,onChange:c.onChange,settings:r,innerLabelTrim:a})}const Ut=ye("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function zt(e){let{locked:t}=e,n=h(e,jt);return o.createElement("svg",ce({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),t?o.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):o.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Mt({value:e,onUpdate:t,settings:n,innerLabelTrim:r}){const{id:i,setSettings:a}=de(),{lock:l,locked:s}=n;return o.createElement(Ut,{withLock:l},l&&o.createElement(zt,{locked:s,onClick:()=>a({locked:!s})}),Object.keys(e).map(((a,l)=>o.createElement(Lt,{id:0===l?i:`${i}.${a}`,key:a,valueKey:a,value:e,settings:n[a],onUpdate:t,innerLabelTrim:r}))))}const Dt=(e,t)=>{const n={};let r=0,o=1/0;Object.entries(e).forEach((([e,i])=>{n[e]=ae(T({value:i},t[e])).settings,r=Math.max(r,n[e].step),o=Math.min(o,n[e].pad)}));for(let e in n){const{step:i,min:a,max:l}=t[e]||{};isFinite(i)||isFinite(a)&&isFinite(l)||(n[e].step=r,n[e].pad=o)}return n},Vt=["lock"],At=["value"];function Ht(e){const t=(0,s.Z)().array().length(e).every.number();return n=>t.test(n)||(t=>{if(!t||"object"!=typeof t)return!1;const n=Object.values(t);return n.length===e&&n.every((e=>isFinite(e)))})(n)}function Ft(e,t,n){return function(e){return Array.isArray(e)?"array":"object"}(e)===t?e:"array"===t?Object.values(e):function(e,t){return e.reduce(((e,n,r)=>Object.assign(e,{[t[r]]:n})),{})}(e,n)}function Bt(e){return{schema:Ht(e.length),normalize:t=>{let{value:n}=t;return function(e,t,n=[]){const{lock:r=!1}=t,o=h(t,Vt),i=Array.isArray(e)?"array":"object",a="object"===i?Object.keys(e):n,l=Ft(e,"object",a),s=(c=o)&&("step"in c||"min"in c||"max"in c)?a.reduce(((e,t)=>Object.assign(e,{[t]:o})),{}):o;var c;return{value:"array"===i?e:l,settings:T(T({},Dt(l,s)),{},{format:i,keys:a,lock:r,locked:!1})}}(n,h(t,At),e)},format:(e,t)=>((e,t)=>Ft(e,"object",t.keys))(e,t),sanitize:(e,t,n)=>((e,t,n)=>{const r=Ft(e,"object",t.keys);for(let e in r)r[e]=ie(r[e],t[e]);const o=Object.keys(r);let i={};if(o.length===t.keys.length)i=r;else{const e=Ft(n,"object",t.keys);if(1===o.length&&t.locked){const t=o[0],n=r[t],a=e[t],l=0!==a?n/a:1;for(let r in e)r===t?i[t]=n:i[r]=e[r]*l}else i=T(T({},e),r)}return Ft(i,t.format,t.keys)})(e,t,n)}}var Wt=n(32738),Gt=n(27696),Kt=n(28568),Yt=n(47199),Zt=n(61203),Xt=n(38704),Jt=n(47950),qt=n.n(Jt);const Qt=(...e)=>e.filter(Boolean).join(".");function en(e,t){return(0,o.useMemo)(e,function(e,t){const n=(0,o.useRef)();return(0,a.J)(e,n.current)||(n.current=e),n.current}(t))}function tn(e=3){const t=(0,o.useRef)(null),n=(0,o.useRef)(null),[r,i]=(0,o.useState)(!1),a=(0,o.useCallback)((()=>i(!0)),[]),l=(0,o.useCallback)((()=>i(!1)),[]);return(0,o.useLayoutEffect)((()=>{if(r){const{bottom:r,top:o,left:i}=t.current.getBoundingClientRect(),{height:a}=n.current.getBoundingClientRect(),l=r+a>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=i+"px","down"===l?n.current.style.top=r+e+"px":n.current.style.bottom=window.innerHeight-o+e+"px"}}),[e,r]),{popinRef:t,wrapperRef:n,shown:r,show:a,hide:l}}(0,Wt.l7)([Gt.Z]);const nn={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};function rn(e,{format:t,hasAlpha:n,isString:r}){const o=e[nn[t]+(r&&"hex"!==t?"String":"")]();return"object"!=typeof o||n?o:function(e,t){const n=T({},e);return["a"].forEach((t=>t in e&&delete n[t])),n}(o)}s.Z.extend({color:()=>e=>(0,Wt.Vi)(e).isValid()});const on=(e,t)=>{const n=(0,Wt.Vi)(e);if(!n.isValid())throw Error("Invalid color");return rn(n,t)};var an=Object.freeze({__proto__:null,schema:e=>(0,s.Z)().color().test(e),sanitize:on,format:(e,t)=>rn((0,Wt.Vi)(e),T(T({},t),{},{isString:!0,format:"hex"})),normalize:({value:e})=>{const t=(0,Wt.y6)(e),n={format:"name"===t?"hex":t,hasAlpha:"object"==typeof e?"a"in e:"hex"===t&&8===e.length||/^(rgba)|(hsla)|(hsva)/.test(e),isString:"string"==typeof e};return{value:on(e,n),settings:n}}});const ln=ye("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:'url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')',$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),sn=ye("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),cn=ye("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function un(e,t){return"rgb"!==t?(0,Wt.Vi)(e).toRgb():e}function dn({value:e,displayValue:t,settings:n,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:a}=de(),{format:l,hasAlpha:s}=n,{popinRef:c,wrapperRef:u,shown:d,show:h,hide:p}=tn(),g=(0,o.useRef)(0),[f,m]=(0,o.useState)((()=>un(e,l))),v=s?Kt.Jg:Kt.Ts,b=()=>{p(),a(),window.clearTimeout(g.current)};return(0,o.useEffect)((()=>()=>window.clearTimeout(g.current)),[]),o.createElement(o.Fragment,null,o.createElement(ln,{ref:c,active:d,onClick:()=>(m(un(e,l)),h(),void i()),style:{color:t}}),d&&o.createElement(Ye,null,o.createElement(We,{onPointerUp:b}),o.createElement(cn,{ref:u,onMouseEnter:()=>window.clearTimeout(g.current),onMouseLeave:e=>0===e.buttons&&void(g.current=window.setTimeout(b,500))},o.createElement(v,{color:f,onChange:r}))))}var hn=T({component:function(){const{value:e,displayValue:t,label:n,onChange:r,onUpdate:i,settings:a}=de();return o.createElement(rt,{input:!0},o.createElement(qe,null,n),o.createElement(sn,null,o.createElement(dn,{value:e,displayValue:t,onChange:r,onUpdate:i,settings:a}),o.createElement(Ie,{value:t,onChange:r,onUpdate:i})))}},an),pn=T({component:function(){const{label:e,displayValue:t,onUpdate:n,settings:r}=de();return o.createElement(rt,{input:!0},o.createElement(qe,null,e),o.createElement(Mt,{value:t,settings:r,onUpdate:n}))}},Bt(["x","y","z"]));const gn=ye("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),fn=ye("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function mn({value:e,settings:t,onUpdate:n}){const r=(0,o.useRef)(),i=(0,o.useRef)(0),a=(0,o.useRef)(0),l=(0,o.useRef)(1),[s,c]=(0,o.useState)(!1),[u,d]=(0,o.useState)(!1),[h,p]=at(),g=(0,o.useRef)(null),f=(0,o.useRef)(null);(0,o.useLayoutEffect)((()=>{if(s){const{top:e,left:t,width:n,height:r}=g.current.getBoundingClientRect();f.current.style.left=t+n/2+"px",f.current.style.top=e+r/2+"px"}}),[s]);const{keys:[m,v],joystick:b}=t,E="invertY"===b?1:-1,{[m]:{step:y},[v]:{step:$}}=t,w=ke("sizes","joystickWidth"),x=ke("sizes","joystickHeight"),C=.8*parseFloat(w)/2,R=.8*parseFloat(x)/2,k=(0,o.useCallback)((()=>{r.current||(d(!0),i.current&&p({x:i.current*C}),a.current&&p({y:a.current*-R}),r.current=window.setInterval((()=>{n((e=>{const t=y*i.current*l.current,n=E*$*a.current*l.current;return Array.isArray(e)?{[m]:e[0]+t,[v]:e[1]+n}:{[m]:e[m]+t,[v]:e[v]+n}}))}),16))}),[C,R,n,p,y,$,m,v,E]),O=(0,o.useCallback)((()=>{window.clearTimeout(r.current),r.current=void 0,d(!1)}),[]);(0,o.useEffect)((()=>{function e(e){l.current=ne(e)}return window.addEventListener("keydown",e),window.addEventListener("keyup",e),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",e),window.removeEventListener("keyup",e)}}),[]);const S=it((({first:t,active:r,delta:[o,s],movement:[u,d]})=>{t&&c(!0);const h=_(u,-C,C),g=_(d,-R,R);i.current=Math.abs(u)>Math.abs(h)?Math.sign(u-h):0,a.current=Math.abs(d)>Math.abs(g)?Math.sign(g-d):0;let f=e[m],b=e[v];r?(i.current||(f+=o*y*l.current,p({x:h})),a.current||(b-=E*s*$*l.current,p({y:g})),i.current||a.current?k():O(),n({[m]:f,[v]:b})):(c(!1),i.current=0,a.current=0,p({x:0,y:0}),O())}));return o.createElement(gn,ce({ref:g},S()),s&&o.createElement(Ye,null,o.createElement(fn,{ref:f,isOutOfBounds:u},o.createElement("div",null),o.createElement("span",{ref:h}))))}const vn=ye("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}}),bn=["joystick"],En=Bt(["x","y"]);var yn=T(T({component:function(){const{label:e,displayValue:t,onUpdate:n,settings:r}=de();return o.createElement(rt,{input:!0},o.createElement(qe,null,e),o.createElement(vn,{withJoystick:!!r.joystick},r.joystick&&o.createElement(mn,{value:t,settings:r,onUpdate:n}),o.createElement(Mt,{value:t,settings:r,onUpdate:n})))}},En),{},{normalize:e=>{let{joystick:t=!0}=e,n=h(e,bn);const{value:r,settings:o}=En.normalize(n);return{value:r,settings:T(T({},o),{},{joystick:t})}}}),$n=Object.freeze({__proto__:null,sanitize:e=>{if(void 0!==e){if(e instanceof File)try{return URL.createObjectURL(e)}catch(e){return}if("string"==typeof e&&0===e.indexOf("blob:"))return e;throw Error("Invalid image format [undefined | blob | File].")}},schema:(e,t)=>"object"==typeof t&&"image"in t,normalize:({image:e})=>({value:e})});const wn=ye("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),xn=ye("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Cn=ye("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),Rn=ye("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),kn=ye("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),On=ye("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});var Sn=T({component:function(){const{label:e,value:t,onUpdate:n,disabled:r}=de(),{popinRef:i,wrapperRef:a,shown:l,show:s,hide:c}=tn(),u=(0,o.useCallback)((e=>{e.length&&n(e[0])}),[n]),d=(0,o.useCallback)((e=>{e.stopPropagation(),n(void 0)}),[n]),{getRootProps:h,getInputProps:p,isDragAccept:g}=(0,Yt.uI)({maxFiles:1,accept:"image/*",onDrop:u,disabled:r});return o.createElement(rt,{input:!0},o.createElement(qe,null,e),o.createElement(wn,null,o.createElement(Cn,{ref:i,hasImage:!!t,onPointerDown:()=>!!t&&s(),onPointerUp:c,style:{backgroundImage:t?`url(${t})`:"none"}}),l&&!!t&&o.createElement(Ye,null,o.createElement(We,{onPointerUp:c,style:{cursor:"pointer"}}),o.createElement(Rn,{ref:a,style:{backgroundImage:`url(${t})`}})),o.createElement(xn,h({isDragAccept:g}),o.createElement("input",p()),o.createElement(kn,null,g?"drop image":"click or drop")),o.createElement(On,{onClick:d,disabled:!t})))}},$n);const Tn=(0,s.Z)().number(),_n=e=>({min:e[0],max:e[1]}),Pn=(e,{bounds:[t,n]},r)=>{const o=Array.isArray(e)?_n(e):e,i={min:r[0],max:r[1]},{min:a,max:l}=T(T({},i),o);return[_(Number(a),t,Math.max(t,l)),_(Number(l),Math.min(n,a),n)]};var Nn=Object.freeze({__proto__:null,schema:(e,t)=>(0,s.Z)().array().length(2).every.number().test(e)&&(0,s.Z)().schema({min:Tn,max:Tn}).test(t),format:_n,sanitize:Pn,normalize:({value:e,min:t,max:n})=>{const r={min:t,max:n},o=[t,n],i=T(T({},Dt(_n(e),{min:r,max:r})),{},{bounds:o});return{value:Pn(_n(e),i,e),settings:i}}});const In=["value","bounds","onDrag"],jn=["bounds"],Ln=ye("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function Un(e){let{value:t,bounds:[n,r],onDrag:i}=e,a=h(e,In);const l=(0,o.useRef)(null),s=(0,o.useRef)(null),c=(0,o.useRef)(null),u=(0,o.useRef)(0),d=ke("sizes","scrubberWidth"),p=it((({event:e,first:o,xy:[h],movement:[p],memo:g={}})=>{if(o){const{width:o,left:i}=l.current.getBoundingClientRect();u.current=o-parseFloat(d);const a=(null==e?void 0:e.target)===s.current||(null==e?void 0:e.target)===c.current;g.pos=L((h-i)/o,n,r);const p=Math.abs(g.pos-t.min)-Math.abs(g.pos-t.max);g.key=p<0||0===p&&g.pos<=t.min?"min":"max",a&&(g.pos=t[g.key])}const f=g.pos+L(p/u.current,0,r-n);return i({[g.key]:vt(f,a[g.key])}),g})),g=`calc(${j(t.min,n,r)} * (100% - ${d} - 8px) + 4px)`,f=`calc(${1-j(t.max,n,r)} * (100% - ${d} - 8px) + 4px)`;return o.createElement(ht,ce({ref:l},p()),o.createElement(ut,null,o.createElement(pt,{style:{left:g,right:f}})),o.createElement(dt,{position:"left",ref:s,style:{left:g}}),o.createElement(dt,{position:"right",ref:c,style:{right:f}}))}var zn=T({component:function(){const{label:e,displayValue:t,onUpdate:n,settings:r}=de(),i=h(r,jn);return o.createElement(o.Fragment,null,o.createElement(rt,{input:!0},o.createElement(qe,null,e),o.createElement(Ln,null,o.createElement(Un,ce({value:t},r,{onDrag:n})),o.createElement(Mt,{value:t,settings:i,onUpdate:n,innerLabelTrim:0}))))}},Nn);const Mn=["type","value"],Dn=["onChange","transient","onEditStart","onEditEnd"],Vn=function(){const e=(0,Zt.Z)((0,Xt.XR)((()=>({data:{}})))),t=(()=>{const e=new Map;return{on:(t,n)=>{let r=e.get(t);void 0===r&&(r=new Set,e.set(t,r)),r.add(n)},off:(t,n)=>{const r=e.get(t);void 0!==r&&(r.delete(n),0===r.size&&e.delete(t))},emit:(t,...n)=>{const r=e.get(t);if(void 0!==r)for(const e of r)e(...n)}}})();this.storeId="_"+Math.random().toString(36).substr(2,9),this.useStore=e;const n={},r=new Set;this.getVisiblePaths=()=>{const e=this.getData(),t=Object.keys(e),o=[];Object.entries(n).forEach((([e,n])=>{n.render&&t.some((t=>0===t.indexOf(e)))&&!n.render(this.get)&&o.push(e+".")}));const i=[];return r.forEach((t=>{t in e&&e[t].__refCount>0&&o.every((e=>-1===t.indexOf(e)))&&(!e[t].render||e[t].render(this.get))&&i.push(t)})),i},this.setOrderedPaths=e=>{e.forEach((e=>r.add(e)))},this.orderPaths=e=>(this.setOrderedPaths(e),e),this.disposePaths=t=>{e.setState((e=>{const n=e.data;return t.forEach((e=>{if(e in n){const t=n[e];t.__refCount--,0===t.__refCount&&t.type in W&&delete n[e]}})),{data:n}}))},this.dispose=()=>{e.setState((()=>({data:{}})))},this.getFolderSettings=e=>n[e]||{},this.getData=()=>e.getState().data,this.addData=(t,n)=>{e.setState((e=>{const r=e.data;return Object.entries(t).forEach((([e,t])=>{let o=r[e];if(o){const{type:e,value:r}=t,i=h(t,Mn);e!==o.type?m(p.INPUT_TYPE_OVERRIDE,e):((0===o.__refCount||n)&&Object.assign(o,i),o.__refCount++)}else r[e]=T(T({},t),{},{__refCount:1})})),{data:r}}))},this.setValueAtPath=(t,n,r)=>{e.setState((e=>{const o=e.data;return q(o[t],n,t,this,r),{data:o}}))},this.setSettingsAtPath=(t,n)=>{e.setState((e=>{const r=e.data;return r[t].settings=T(T({},r[t].settings),n),{data:r}}))},this.disableInputAtPath=(t,n)=>{e.setState((e=>{const r=e.data;return r[t].disabled=n,{data:r}}))},this.set=(t,n)=>{e.setState((e=>{const r=e.data;return Object.entries(t).forEach((([e,t])=>{try{q(r[e],t,void 0,void 0,n)}catch(e){}})),{data:r}}))},this.getInput=e=>{try{return this.getData()[e]}catch(t){m(p.PATH_DOESNT_EXIST,e)}},this.get=e=>{var t;return null===(t=this.getInput(e))||void 0===t?void 0:t.value},this.emitOnEditStart=e=>{t.emit(`onEditStart:${e}`,this.get(e),e,T(T({},this.getInput(e)),{},{get:this.get}))},this.emitOnEditEnd=e=>{t.emit(`onEditEnd:${e}`,this.get(e),e,T(T({},this.getInput(e)),{},{get:this.get}))},this.subscribeToEditStart=(e,n)=>{const r=`onEditStart:${e}`;return t.on(r,n),()=>t.off(r,n)},this.subscribeToEditEnd=(e,n)=>{const r=`onEditEnd:${e}`;return t.on(r,n),()=>t.off(r,n)};const o=(e,t,r)=>{const i={};return Object.entries(e).forEach((([e,a])=>{if(""===e)return m(p.EMPTY_KEY);let l=Qt(t,e);if(a.type===W.FOLDER){const e=o(a.schema,l,r);Object.assign(i,e),l in n||(n[l]=a.settings)}else if(e in r)m(p.DUPLICATE_KEYS,e,l,r[e].path);else{const t=J(a,e,l,i);if(t){const{type:n,options:o,input:a}=t,{onChange:s,transient:c,onEditStart:u,onEditEnd:d}=o,p=h(o,Dn);i[l]=T(T(T({type:n},p),a),{},{fromPanel:!0}),r[e]={path:l,onChange:s,transient:c,onEditStart:u,onEditEnd:d}}else m(p.UNKNOWN_INPUT,l,a)}})),i};this.getDataFromSchema=e=>{const t={};return[o(e,"",t),t]}},An=new Vn;function Hn(){return(0,o.useMemo)((()=>new Vn),[])}const Fn={collapsed:!1};function Bn(e,t){return{type:W.FOLDER,schema:e,settings:T(T({},Fn),t)}}const Wn={disabled:!1};function Gn(e,t){return{type:W.BUTTON,onClick:e,settings:T(T({},Wn),t)}}function Kn(e){return{type:W.BUTTON_GROUP,opts:e}}const Yn={graph:!1,interval:100};function Zn(e,t){return{type:W.MONITOR,objectOrFn:e,settings:T(T({},Yn),t)}}const Xn=e=>"__levaInput"in e,Jn=["type","label","path","valueKey","value","settings","setValue","disabled"];function qn(e){let{type:t,label:n,path:r,valueKey:i,value:a,settings:l,setValue:s,disabled:c}=e,u=h(e,Jn);const{displayValue:d,onChange:g,onUpdate:f}=ot({type:t,value:a,settings:l,setValue:s}),v=w[t].component;return v?o.createElement(ue.Provider,{value:T({key:i,path:r,id:""+r,label:n,displayValue:d,value:a,onChange:g,onUpdate:f,settings:l,setValue:s,disabled:c},u)},o.createElement(Be,{disabled:c},o.createElement(v,null))):(m(p.NO_COMPONENT_FOR_TYPE,t,r),null)}const Qn=ye("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}}),er=ye("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),tr=ye("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),nr=ye("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),rr=(0,o.forwardRef)((function({initialValue:e},t){const n=ke("colors","highlight3"),r=ke("colors","elevation2"),i=ke("colors","highlight1"),[a,l]=(0,o.useMemo)((()=>[(0,Wt.Vi)(i).alpha(.4).toRgbString(),(0,Wt.Vi)(i).alpha(.1).toRgbString()]),[i]),s=(0,o.useRef)([e]),c=(0,o.useRef)(e),u=(0,o.useRef)(e),d=(0,o.useRef)(),h=(0,o.useCallback)(((e,t)=>{if(!e)return;const{width:o,height:i}=e,d=new Path2D,h=o/100,p=.05*i;for(let e=0;e<s.current.length;e++){const t=h*e,n=i-j(s.current[e],c.current,u.current)*(i-2*p)-p;d.lineTo(t,n)}t.clearRect(0,0,o,i);const g=new Path2D(d);g.lineTo(h*(s.current.length+1),i),g.lineTo(0,i),g.lineTo(0,0);const f=t.createLinearGradient(0,0,0,i);f.addColorStop(0,a),f.addColorStop(1,l),t.fillStyle=f,t.fill(g),t.strokeStyle=r,t.lineJoin="round",t.lineWidth=14,t.stroke(d),t.strokeStyle=n,t.lineWidth=2,t.stroke(d)}),[n,r,a,l]),[p,g]=function(e){const t=(0,o.useRef)(null),n=(0,o.useRef)(null),r=(0,o.useRef)(!1);return(0,o.useEffect)((()=>{const o=te((()=>{t.current.width=t.current.offsetWidth*window.devicePixelRatio,t.current.height=t.current.offsetHeight*window.devicePixelRatio,e(t.current,n.current)}),250);return window.addEventListener("resize",o),r.current||(o(),r.current=!0),()=>window.removeEventListener("resize",o)}),[e]),(0,o.useEffect)((()=>{n.current=t.current.getContext("2d")}),[]),[t,n]}(h);return(0,o.useImperativeHandle)(t,(()=>({frame:e=>{(void 0===c.current||e<c.current)&&(c.current=e),(void 0===u.current||e>u.current)&&(u.current=e),function(e,t){e.push(t),e.length>100&&e.shift()}(s.current,e),d.current=requestAnimationFrame((()=>h(p.current,g.current)))}})),[p,g,h]),(0,o.useEffect)((()=>()=>cancelAnimationFrame(d.current)),[]),o.createElement(nr,{ref:p})})),or=e=>Number.isFinite(e)?e.toPrecision(2):e.toString(),ir=(0,o.forwardRef)((function({initialValue:e},t){const[n,r]=(0,o.useState)(or(e));return(0,o.useImperativeHandle)(t,(()=>({frame:e=>r(or(e))})),[]),o.createElement("div",null,n)}));function ar(e){return"function"==typeof e?e():e.current}const lr=["type","label","key"],sr={[W.BUTTON]:function({onClick:e,settings:t,label:n}){const r=fe();return o.createElement(rt,null,o.createElement(Qn,{disabled:t.disabled,onClick:()=>e(r.get)},n))},[W.BUTTON_GROUP]:function(e){const{label:t,opts:n}=(({label:e,opts:t})=>{let n="string"==typeof e&&""===e.trim()?null:e,r=t;return"object"==typeof t.opts&&(void 0!==r.label&&(n=t.label),r=t.opts),{label:n,opts:r}})(e),r=fe();return o.createElement(rt,{input:!!t},t&&o.createElement(qe,null,t),o.createElement(er,null,Object.entries(n).map((([e,t])=>o.createElement(tr,{key:e,onClick:()=>t(r.get)},e)))))},[W.MONITOR]:function({label:e,objectOrFn:t,settings:n}){const r=(0,o.useRef)(),i=(0,o.useRef)(ar(t));return(0,o.useEffect)((()=>{const e=window.setInterval((()=>{var e;document.hidden||null===(e=r.current)||void 0===e||e.frame(ar(t))}),n.interval);return()=>window.clearInterval(e)}),[t,n.interval]),o.createElement(rt,{input:!0},o.createElement(qe,{align:"top"},e),n.graph?o.createElement(rr,{ref:r,initialValue:i.current}):o.createElement(ir,{ref:r,initialValue:i.current}))}},cr=o.memo((({path:e})=>{const[t,{set:n,setSettings:r,disable:i,storeId:a,emitOnEditStart:s,emitOnEditEnd:c}]=function(e){const t=fe(),[n,r]=(0,o.useState)(st(t.getData(),e)),i=(0,o.useCallback)((n=>t.setValueAtPath(e,n,!0)),[e,t]),a=(0,o.useCallback)((n=>t.setSettingsAtPath(e,n)),[e,t]),s=(0,o.useCallback)((n=>t.disableInputAtPath(e,n)),[e,t]),c=(0,o.useCallback)((()=>t.emitOnEditStart(e)),[e,t]),u=(0,o.useCallback)((()=>t.emitOnEditEnd(e)),[e,t]);return(0,o.useEffect)((()=>{r(st(t.getData(),e));const n=t.useStore.subscribe((t=>st(t.data,e)),r,{equalityFn:l.Z});return()=>n()}),[t,e]),[n,{set:i,setSettings:a,disable:s,storeId:t.storeId,emitOnEditStart:c,emitOnEditEnd:u}]}(e);if(!t)return null;const{type:u,label:d,key:g}=t,f=h(t,lr);if(u in W){const t=sr[u];return o.createElement(t,ce({label:d,path:e},f))}return u in w?o.createElement(qn,ce({key:a+e,type:u,label:d,storeId:a,path:e,valueKey:g,setValue:n,setSettings:r,disable:i,emitOnEditStart:s,emitOnEditEnd:c},f)):(v(p.UNSUPPORTED_INPUT,u,e),null)}));function ur({toggle:e,toggled:t,name:n}){return o.createElement(ze,{onClick:()=>e()},o.createElement(tt,{toggled:t}),o.createElement("div",null,n))}const dr=({name:e,path:t,tree:n})=>{const r=fe(),i=Qt(t,e),{collapsed:a,color:l}=r.getFolderSettings(i),[s,c]=(0,o.useState)(!a),u=(0,o.useRef)(null),d=ke("colors","folderWidgetColor"),h=ke("colors","folderTextColor");return(0,o.useLayoutEffect)((()=>{u.current.style.setProperty("--leva-colors-folderWidgetColor",l||d),u.current.style.setProperty("--leva-colors-folderTextColor",l||h)}),[l,d,h]),o.createElement(Le,{ref:u},o.createElement(ur,{name:e,toggled:s,toggle:()=>c((e=>!e))}),o.createElement(hr,{parent:i,tree:n,toggled:s}))},hr=o.memo((({isRoot:e=!1,fill:t=!1,flat:n=!1,parent:r,tree:i,toggled:a})=>{const{wrapperRef:l,contentRef:s}=function(e){const t=(0,o.useRef)(null),n=(0,o.useRef)(null),r=(0,o.useRef)(!0);return(0,o.useLayoutEffect)((()=>{e||(t.current.style.height="0px",t.current.style.overflow="hidden")}),[]),(0,o.useEffect)((()=>{if(r.current)return void(r.current=!1);let o;const i=t.current,a=()=>{e&&(i.style.removeProperty("height"),i.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};i.addEventListener("transitionend",a,{once:!0});const{height:l}=n.current.getBoundingClientRect();return i.style.height=l+"px",e||(i.style.overflow="hidden",o=window.setTimeout((()=>i.style.height="0px"),50)),()=>{i.removeEventListener("transitionend",a),clearTimeout(o)}}),[e]),{wrapperRef:t,contentRef:n}}(a),c=fe(),u=([e,t])=>{var n;return(Xn(t)?null===(n=c.getInput(t.path))||void 0===n?void 0:n.order:c.getFolderSettings(Qt(r,e)).order)||0},d=Object.entries(i).sort(((e,t)=>u(e)-u(t)));return o.createElement(Ue,{ref:l,isRoot:e,fill:t,flat:n},o.createElement(Me,{ref:s,isRoot:e,toggled:a},d.map((([e,t])=>Xn(t)?o.createElement(cr,{key:t.path,valueKey:t.valueKey,path:t.path}):o.createElement(dr,{key:e,name:e,path:r,tree:t})))))})),pr=ye("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${Ve}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),gr=ye("i",{$flexCenter:"",width:40,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),fr=ye("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),mr=ye("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${gr}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),vr=ye("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),br=ye("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:40}}}}),Er=o.forwardRef((({setFilter:e,toggle:t},n)=>{const[r,i]=(0,o.useState)(""),a=(0,o.useMemo)((()=>te(e,250)),[e]);return(0,o.useEffect)((()=>{a(r)}),[r,a]),o.createElement(o.Fragment,null,o.createElement(vr,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:e=>e.stopPropagation(),onChange:e=>{const n=e.currentTarget.value;t(!0),i(n)}}),o.createElement(gr,{onClick:()=>(e(""),void i("")),style:{visibility:r?"visible":"hidden"}},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},o.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))}));function yr({setFilter:e,onDrag:t,onDragStart:n,onDragEnd:r,toggle:i,toggled:a,title:l,drag:s,filterEnabled:c,from:u}){const[d,h]=(0,o.useState)(!1),p=(0,o.useRef)(null);(0,o.useEffect)((()=>{var e,t;d?null===(e=p.current)||void 0===e||e.focus():null===(t=p.current)||void 0===t||t.blur()}),[d]);const g=it((({offset:[e,o],first:i,last:a})=>{t({x:e,y:o}),i&&n({x:e,y:o}),a&&r({x:e,y:o})}),{filterTaps:!0,from:({offset:[e,t]})=>[(null==u?void 0:u.x)||e,(null==u?void 0:u.y)||t]});return(0,o.useEffect)((()=>{const e=e=>{"L"===e.key&&e.shiftKey&&e.metaKey&&h((e=>!e))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]),o.createElement(o.Fragment,null,o.createElement(fr,{mode:s?"drag":void 0},o.createElement(gr,{active:!a,onClick:()=>i()},o.createElement(tt,{toggled:a,width:12,height:8})),o.createElement(br,ce({},s?g():{},{drag:s,filterEnabled:c}),void 0===l&&s?o.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},o.createElement("circle",{cx:"2",cy:"2",r:"2"}),o.createElement("circle",{cx:"14",cy:"2",r:"2"}),o.createElement("circle",{cx:"26",cy:"2",r:"2"}),o.createElement("circle",{cx:"2",cy:"12",r:"2"}),o.createElement("circle",{cx:"14",cy:"12",r:"2"}),o.createElement("circle",{cx:"26",cy:"12",r:"2"})):l),c&&o.createElement(gr,{active:d,onClick:()=>h((e=>!e))},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},o.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),o.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),o.createElement(mr,{toggled:d},o.createElement(Er,{ref:p,setFilter:e,toggle:i})))}const $r=["store","hidden","theme","collapsed"];function wr(e){let{store:t,hidden:n=!1,theme:r,collapsed:i=!1}=e,a=h(e,$r);const l=en((()=>function(e){const t=ve();if(!e)return{theme:t,className:""};Object.keys(e).forEach((n=>{Object.assign(t[n],e[n])}));const n=we(t);return{theme:t,className:n.className}}(r)),[r]),[s,c]=(0,o.useState)(!i),u="object"==typeof i?!i.collapsed:s,d=(0,o.useMemo)((()=>"object"==typeof i?e=>{"function"==typeof e?i.onChange(!e(!i.collapsed)):i.onChange(!e)}:c),[i]);return!t||n?null:o.createElement(he.Provider,{value:l},o.createElement(xr,ce({store:t},a,{toggled:u,setToggle:d,rootClass:l.className})))}const xr=o.memo((({store:e,rootClass:t,fill:n=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:a=!1,titleBar:s={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:c=!1,toggled:u,setToggle:d})=>{var h,p;const g=(e=>{const[t,n]=(0,o.useState)(e.getVisiblePaths());return(0,o.useEffect)((()=>{n(e.getVisiblePaths());const t=e.useStore.subscribe(e.getVisiblePaths,n,{equalityFn:l.Z});return()=>t()}),[e]),t})(e),[f,m]=(0,o.useState)(""),v=(0,o.useMemo)((()=>((e,t)=>{const n={},r=t?t.toLowerCase():null;return e.forEach((e=>{const[t,o]=function(e){const t=e.split(".");return[t.pop(),t.join(".")||void 0]}(e);(!r||t.toLowerCase().indexOf(r)>-1)&&qt()(n,o,{[t]:{__levaInput:!0,path:e}})})),n})(g,f)),[g,f]),[b,E]=at(),y=i||g.length>0,$="object"==typeof s&&s.title||void 0,w="object"!=typeof s||null===(h=s.drag)||void 0===h||h,x="object"!=typeof s||null===(p=s.filter)||void 0===p||p,C="object"==typeof s&&s.position||void 0,R="object"==typeof s&&s.onDrag||void 0,k="object"==typeof s&&s.onDragStart||void 0,O="object"==typeof s&&s.onDragEnd||void 0;return o.useEffect((()=>{E({x:null==C?void 0:C.x,y:null==C?void 0:C.y})}),[C,E]),Re(),o.createElement(ge.Provider,{value:{hideCopyButton:c}},o.createElement(pr,{ref:b,className:t,fill:n,flat:r,oneLineLabels:a,hideTitleBar:!s,style:{display:y?"block":"none"}},s&&o.createElement(yr,{onDrag:e=>{E(e),null==R||R(e)},onDragStart:e=>null==k?void 0:k(e),onDragEnd:e=>null==O?void 0:O(e),setFilter:m,toggle:e=>d((t=>null!=e?e:!t)),toggled:u,title:$,drag:w,filterEnabled:x,from:C}),y&&o.createElement(pe.Provider,{value:e},o.createElement(hr,{isRoot:!0,fill:n,flat:r,tree:v,toggled:u}))))})),Cr=["isRoot"];let Rr=!1,kr=null;function Or(e){let{isRoot:t=!1}=e,n=h(e,Cr);return(0,o.useEffect)((()=>(Rr=!0,!t&&kr&&(kr.remove(),kr=null),()=>{t||(Rr=!1)})),[t]),o.createElement(wr,ce({store:An},n))}const Sr=["store"];function Tr(e){let{store:t}=e,n=h(e,Sr);const r=fe(),i=void 0===t?r:t;return o.createElement(wr,ce({store:i},n))}function _r(e,t,n,i,a){const{folderName:s,schema:c,folderSettings:u,hookSettings:d,deps:h}=function(e,t,n,r,o){let i,a,l,s,c;return"string"==typeof e?(a=e,i=t,Array.isArray(n)?c=n:n&&("store"in n?(s=n,c=r):(l=n,Array.isArray(r)?c=r:(s=r,c=o)))):(i=e,Array.isArray(t)?c=t:(s=t,c=n)),{schema:i,folderName:a,folderSettings:l,hookSettings:s,deps:c||[]}}(e,t,n,i,a),p="function"==typeof c,g=(0,o.useRef)(!1),f=(0,o.useRef)(!0),m=en((()=>{g.current=!0;const e="function"==typeof c?c():c;return s?{[s]:Bn(e,u)}:e}),h);var v;v=!(null!=d&&d.store),(0,o.useEffect)((()=>{v&&!Rr&&(kr||(kr=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(kr),function(e,t){const n=console.error;console.error=()=>{},r.render(e,t),console.error=n}(o.createElement(Or,{isRoot:!0}),kr))),Rr=!0)}),[v]);const[b]=(0,o.useState)((()=>(null==d?void 0:d.store)||An)),[E,y]=(0,o.useMemo)((()=>b.getDataFromSchema(m)),[b,m]),[$,w,x,C,R]=(0,o.useMemo)((()=>{const e=[],t=[],n={},r={},o={};return Object.values(y).forEach((({path:i,onChange:a,onEditStart:l,onEditEnd:s,transient:c})=>{e.push(i),a?(n[i]=a,c||t.push(i)):t.push(i),l&&(r[i]=l),s&&(o[i]=s)})),[e,t,n,r,o]}),[y]),k=(0,o.useMemo)((()=>b.orderPaths($)),[$,b]),O=function(e,t,n){const r=e.useStore((e=>function(e,t){return Object.entries((n=e,r=t,r.reduce(((e,t)=>(n&&n.hasOwnProperty(t)&&(e[t]=n[t]),e)),{}))).reduce(((e,[,{value:t,disabled:n,key:r}])=>(e[r]=n?void 0:t,e)),{});var n,r}(T(T({},n),e.data),t)),l.Z);return r}(b,w,E),S=(0,o.useCallback)((e=>{const t=Object.entries(e).reduce(((e,[t,n])=>Object.assign(e,{[y[t].path]:n})),{});b.set(t,!1)}),[b,y]),_=(0,o.useCallback)((e=>b.get(y[e].path)),[b,y]);return(0,o.useEffect)((()=>{const e=!f.current&&g.current;return b.addData(E,e),f.current=!1,g.current=!1,()=>b.disposePaths(k)}),[b,k,E]),(0,o.useEffect)((()=>{const e=[];return Object.entries(x).forEach((([t,n])=>{n(b.get(t),t,T({initial:!0,get:b.get},b.getInput(t)));const r=b.useStore.subscribe((e=>{const n=e.data[t];return[n.disabled?void 0:n.value,n]}),(([e,r])=>n(e,t,T({initial:!1,get:b.get},r))),{equalityFn:l.Z});e.push(r)})),()=>e.forEach((e=>e()))}),[b,x]),(0,o.useEffect)((()=>{const e=[];return Object.entries(C).forEach((([t,n])=>e.push(b.subscribeToEditStart(t,n)))),Object.entries(R).forEach((([t,n])=>e.push(b.subscribeToEditEnd(t,n)))),()=>e.forEach((e=>e()))}),[C,R,b]),p?[O,S,_]:O}C(G.SELECT,Ct),C(G.IMAGE,Sn),C(G.NUMBER,bt),C(G.COLOR,hn),C(G.STRING,Tt),C(G.BOOLEAN,It),C(G.INTERVAL,zn),C(G.VECTOR3D,pn),C(G.VECTOR2D,yn)}}]);