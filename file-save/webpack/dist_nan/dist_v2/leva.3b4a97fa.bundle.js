"use strict";(self.webpackChunkwebpack_zero=self.webpackChunkwebpack_zero||[]).push([[829],{31481:(e,t,n)=>{n.r(t),n.d(t,{Leva:()=>Tr,LevaInputs:()=>Y,LevaPanel:()=>Pr,LevaStoreProvider:()=>be,button:()=>Yn,buttonGroup:()=>Zn,folder:()=>Gn,levaStore:()=>Fn,monitor:()=>Jn,useControls:()=>Nr,useCreateStore:()=>Bn,useStoreContext:()=>ve});var r=n(76678),o=n.n(r),i=n(54474),a=n.n(i),l=n(80918),s=n(46191),c=n(36663),u=n(79006),d=n(5668),h=n(48366),p=n(85377);function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}let f;!function(e){e[e.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",e[e.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",e[e.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",e[e.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",e[e.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",e[e.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",e[e.THEME_ERROR=6]="THEME_ERROR",e[e.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",e[e.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",e[e.EMPTY_KEY=9]="EMPTY_KEY"}(f||(f={}));const m={[f.UNSUPPORTED_INPUT]:(e,t)=>[`An input with type \`${e}\` input was found at path \`${t}\` but it's not supported yet.`],[f.NO_COMPONENT_FOR_TYPE]:(e,t)=>[`Type \`${e}\` found at path \`${t}\` can't be displayed in panel because no component supports it yet.`],[f.UNKNOWN_INPUT]:(e,t)=>[`input at path \`${e}\` is not recognized.`,t],[f.DUPLICATE_KEYS]:(e,t,n)=>[`Key \`${e}\` of path \`${t}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[f.ALREADY_REGISTERED_TYPE]:e=>[`Type ${e} has already been registered. You can't register a component with the same type.`],[f.CLIPBOARD_ERROR]:e=>["Error copying the value",e],[f.THEME_ERROR]:(e,t)=>[`Error accessing the theme \`${e}.${t}\` value.`],[f.PATH_DOESNT_EXIST]:e=>[`Error getting the value at path \`${e}\`. There is probably an error in your \`render\` function.`],[f.PATH_DOESNT_EXIST]:e=>[`Error accessing the value at path \`${e}\``],[f.INPUT_TYPE_OVERRIDE]:(e,t,n)=>[`Input at path \`${e}\` already exists with type: \`${t}\`. Its type cannot be overridden with type \`${n}\`.`],[f.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function v(e,t,...n){const[r,...o]=m[t](...n);console[e]("LEVA: "+r,...o)}const b=v.bind(null,"warn"),E=v.bind(null,"log"),y=["value"],$=["schema"],w=["value"],x=[],C={};function R(e){let{value:t}=e,n=g(e,y);for(let e of x){const r=e(t,n);if(r)return r}}function k(e,t){let{schema:n}=t,r=g(t,$);e in C?b(f.ALREADY_REGISTERED_TYPE,e):(x.push(((t,r)=>n(t,r)&&e)),C[e]=r)}function O(e,t,n,r){const{normalize:o}=C[e];if(o)return o(t,n,r);if("object"!=typeof t||!("value"in t))return{value:t};const{value:i}=t;return{value:i,settings:g(t,w)}}function S(e,t,n){const{format:r}=C[e];return r?r(t,n):t}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const N=(e,t,n)=>e>n?n:e<t?t:e,I=e=>{if(""===e||"number"==typeof e)return e;try{const t=B(e);if(!isNaN(t))return t}catch(e){}return parseFloat(e)},j=Math.log(10);function L(e){let t=Math.abs(+String(e).replace(".",""));if(0===t)return.01;for(;0!==t&&t%10==0;)t/=10;const n=Math.floor(Math.log(t)/j)+1,r=Math.floor(Math.log10(Math.abs(e))),o=Math.pow(10,r-n);return Math.max(o,.001)}const U=(e,t,n)=>n===t?0:(N(e,t,n)-t)/(n-t),z=(e,t,n)=>e*(n-t)+t,M=/\(([0-9+\-*/^ .]+)\)/,D=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,V=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,A=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,H=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,F=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function B(e){if(isNaN(Number(e))){if(M.test(e)){const t=e.replace(M,((e,t)=>String(B(t))));return B(t)}return D.test(e)?B(e.replace(D,((e,t,n)=>String(Math.pow(Number(t),Number(n)))))):V.test(e)?B(e.replace(V,((e,t,n)=>String(Number(t)*Number(n))))):A.test(e)?B(e.replace(A,((e,t,n)=>{if(0!=n)return String(Number(t)/Number(n));throw new Error("Division by zero")}))):H.test(e)?B(e.replace(H,((e,t,n)=>String(Number(t)+Number(n))))):F.test(e)?B(e.replace(F,((e,t,n)=>String(Number(t)-Number(n))))):Number(e)}return Number(e)}function W(e){return"[object Object]"===Object.prototype.toString.call(e)}const G=e=>W(e)&&0===Object.keys(e).length;let K,Y;!function(e){e.BUTTON="BUTTON",e.BUTTON_GROUP="BUTTON_GROUP",e.MONITOR="MONITOR",e.FOLDER="FOLDER"}(K||(K={})),function(e){e.SELECT="SELECT",e.IMAGE="IMAGE",e.NUMBER="NUMBER",e.COLOR="COLOR",e.STRING="STRING",e.BOOLEAN="BOOLEAN",e.INTERVAL="INTERVAL",e.VECTOR3D="VECTOR3D",e.VECTOR2D="VECTOR2D"}(Y||(Y={}));const Z=["type","__customInput"],X=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],J=["type"];function q(e,t,n={},r){var o,i;if("object"!=typeof e||Array.isArray(e))return{type:r,input:e,options:P({key:t,label:t,optional:!1,disabled:!1,order:0},n)};if("__customInput"in e){const{type:n,__customInput:r}=e;return q(r,t,g(e,Z),n)}const{render:a,label:l,optional:s,order:c=0,disabled:u,hint:d,onChange:h,onEditStart:p,onEditEnd:f,transient:m}=e,v=g(e,X),b=P({render:a,key:t,label:null!=l?l:t,hint:d,transient:null!=m?m:!!h,onEditStart:p,onEditEnd:f,disabled:u,optional:s,order:c},n);let E,{type:y}=v,$=g(v,J);return y=null!=r?r:y,y in K?{type:y,input:$,options:b}:(E=r&&W($)&&"value"in $?$.value:G($)?void 0:$,{type:y,input:E,options:P(P({},b),{},{onChange:h,optional:null!==(o=b.optional)&&void 0!==o&&o,disabled:null!==(i=b.disabled)&&void 0!==i&&i})})}function Q(e,t,n,r){const o=q(e,t),{type:i,input:a,options:l}=o;if(i)return i in K?o:{type:i,input:O(i,a,n,r),options:l};let s=R(a);return s?{type:s,input:O(s,a,n,r),options:l}:(s=R({value:a}),!!s&&{type:s,input:O(s,{value:a},n,r),options:l})}function ee(e,t,n,r,o){const{value:i,type:a,settings:l}=e;e.value=ne({type:a,value:i,settings:l},t,n,r),e.fromPanel=o}const te=function(e,t,n){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=n};function ne({type:e,value:t,settings:n},r,o,i){const a="SELECT"!==e&&"function"==typeof r?r(t):r;let l;try{l=function(e,t,n,r,o,i){const{sanitize:a}=C[e];return a?a(t,n,r,o,i):t}(e,a,n,t,o,i)}catch(e){throw new te(`The value \`${r}\` did not result in a correct value.`,t,e)}return(0,s.J)(l,t)?t:l}const re=(e,t,n=!1)=>{let r=0;return function(){const o=arguments,i=n&&!r,a=()=>e.apply(this,o);window.clearTimeout(r),r=window.setTimeout(a,t),i&&a()}},oe=e=>e.shiftKey?5:e.altKey?.2:1,ie=["value"],ae=["min","max"],le=(e,{min:t=-1/0,max:n=1/0,suffix:r})=>{const o=parseFloat(e);if(""===e||isNaN(o))throw Error("Invalid number");const i=N(o,t,n);return r?i+r:i},se=e=>{let{value:t}=e,n=g(e,ie);const{min:r=-1/0,max:o=1/0}=n,i=g(n,ae);let a=parseFloat(t);const l="string"==typeof t?t.substring((""+a).length):void 0;a=N(a,r,o);let s=n.step;s||(Number.isFinite(r)?s=Number.isFinite(o)?+(Math.abs(o-r)/100).toPrecision(1):+(Math.abs(a-r)/100).toPrecision(1):Number.isFinite(o)&&(s=+(Math.abs(o-a)/100).toPrecision(1)));const c=s?10*L(s):L(a);return s=s||c/10,{value:l?a+l:a,settings:P({initialValue:a,step:s,pad:Math.round(N(Math.log10(1/c),0,2)),min:r,max:o,suffix:l},i)}},ce=(e,{step:t,initialValue:n})=>n+Math.round((e-n)/t)*t;var ue=Object.freeze({__proto__:null,schema:e=>{if("number"==typeof e)return!0;if("string"==typeof e){const t=parseFloat(e);return!isNaN(t)&&e.substring((""+t).length).trim().length<4}return!1},sanitize:le,format:(e,{pad:t=0,suffix:n})=>{const r=parseFloat(e).toFixed(t);return n?r+n:r},normalize:se,sanitizeStep:ce});function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}const he=(0,i.createContext)({});function pe(){return(0,i.useContext)(he)}const ge=(0,i.createContext)(null),fe=(0,i.createContext)(null),me=(0,i.createContext)(null);function ve(){return(0,i.useContext)(fe)}function be({children:e,store:t}){return a().createElement(fe.Provider,{value:t},e)}const Ee=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function ye(e,t){const[n,r]=e.split(" "),o={};return"none"!==n&&(o.boxShadow=`${t.inset?"inset ":""}0 0 0 $borderWidths${[t.key]} $colors${"default"!==n&&n||t.borderColor}`),r&&(o.backgroundColor=r),o}const $e={$inputStyle:()=>e=>ye(e,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>e=>ye(e,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>e=>ye(e,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>e=>ye(e,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:we,css:xe,createTheme:Ce,globalCss:Re,keyframes:ke}=(0,d.Th)({prefix:"leva",theme:Ee(),utils:P(P({},$e),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:e=>({"&:focus":$e.$focusStyle()(e)}),$focusWithin:e=>({"&:focus-within":$e.$focusStyle()(e)}),$hover:e=>({"&:hover":$e.$hoverStyle()(e)}),$active:e=>({"&:active":$e.$activeStyle()(e)})})}),Oe=Re({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Se(e,t){const{theme:n}=(0,i.useContext)(ge);if(!(e in n)||!(t in n[e]))return b(f.THEME_ERROR,e,t),"";let r=t;for(;;){let t=n[e][r];if("string"!=typeof t||"$"!==t.charAt(0))return t;r=t.substr(1)}}const Te=we("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),_e=we("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${Te}`]:{paddingLeft:0}}),Pe=we(_e,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),Ne=we("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Ie=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],je=["onUpdate"];function Le(e){let{innerLabel:t,value:n,onUpdate:r,onChange:o,onKeyDown:l,type:s,id:c,inputType:u="text",rows:d=0}=e,h=g(e,Ie);const{id:p,emitOnEditStart:f,emitOnEditEnd:m,disabled:v}=pe(),b=c||p,E=(0,i.useRef)(null),y=d>0,$=y?"textarea":"input",w=(0,i.useCallback)((e=>t=>{const n=t.currentTarget.value;e(n)}),[]);a().useEffect((()=>{const e=E.current,t=w((e=>{r(e),m()}));return null==e||e.addEventListener("blur",t),()=>null==e?void 0:e.removeEventListener("blur",t)}),[w,r,m]);const x=(0,i.useCallback)((e=>{"Enter"===e.key&&w(r)(e)}),[w,r]),C=Object.assign({as:$},y?{rows:d}:{},h);return a().createElement(Ne,{textArea:y},t&&"string"==typeof t?a().createElement(_e,null,t):t,a().createElement(Te,de({levaType:s,ref:E,id:b,type:u,autoComplete:"off",spellCheck:"false",value:n,onChange:w(o),onFocus:()=>f(),onKeyPress:x,onKeyDown:l,disabled:v},C)))}function Ue(e){let{onUpdate:t}=e,n=g(e,je);const r=(0,i.useCallback)((e=>t(I(e))),[t]),o=(0,i.useCallback)((e=>{const n="ArrowUp"===e.key?1:"ArrowDown"===e.key?-1:0;if(n){e.preventDefault();const r=e.altKey?.1:e.shiftKey?10:1;t((e=>parseFloat(e)+n*r))}}),[t]);return a().createElement(Le,de({},n,{onUpdate:r,onKeyDown:o,type:"number"}))}const ze=we("div",{}),Me=we("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),De=we("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${Me}::after`]:{opacity:.6},[`${ze}:hover > & + ${Me}::after`]:{opacity:.6},[`${ze}:hover > & > svg`]:{opacity:1}}),Ve=we("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${ze}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),Ae=we("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${Ve} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),He=we(Ae,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Fe=we("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Be=we("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),We=we("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),Ge=we("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${We}`]:{pointerEvents:"auto"}}}}}),Ke=we("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Ye=we("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Ze=we(p.Eh,{fill:"$toolTipBackground"});function Xe({children:e}){const{className:t}=(0,i.useContext)(ge);return a().createElement(l.fC,{className:t},e)}const Je=["align"];function qe(){const{id:e,disable:t,disabled:n}=pe();return a().createElement(a().Fragment,null,a().createElement(Be,{id:e+"__disable",type:"checkbox",checked:!n,onChange:()=>t(!n)}),a().createElement("label",{htmlFor:e+"__disable"}))}function Qe(e){const{id:t,optional:n,hint:r}=pe(),o=e.htmlFor||(t?{htmlFor:t}:null),i=r||"string"!=typeof e.children?null:{title:e.children};return a().createElement(a().Fragment,null,n&&a().createElement(qe,null),void 0!==r?a().createElement(p.fC,null,a().createElement(p.xz,{asChild:!0},a().createElement(We,de({},o,e))),a().createElement(p.VY,{side:"top",sideOffset:2},a().createElement(Ye,null,r,a().createElement(Ze,null)))):a().createElement(We,de({},o,i,e)))}function et(e){let{align:t}=e,n=g(e,Je);const{value:r,label:o,key:l,disabled:s}=pe(),{hideCopyButton:c}=(0,i.useContext)(me),u=!c&&void 0!==l,[d,h]=(0,i.useState)(!1);return a().createElement(Fe,{align:t,onPointerLeave:()=>h(!1)},a().createElement(Qe,n),u&&!s&&a().createElement("div",{title:`Click to copy ${"string"==typeof o?o:l} value`},d?a().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},a().createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),a().createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):a().createElement("svg",{onClick:async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[l]:null!=r?r:""})),h(!0)}catch(e){b(f.CLIPBOARD_ERROR,{[l]:r})}},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},a().createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),a().createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const tt=["toggled"],nt=we("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function rt(e){let{toggled:t}=e,n=g(e,tt);return a().createElement(nt,de({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${t?0:-90}deg)`}},n),a().createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const ot=["input"];function it(e){let{input:t}=e,n=g(e,ot);return t?a().createElement(He,n):a().createElement(Ae,n)}function at({value:e,type:t,settings:n,setValue:r}){const[o,a]=(0,i.useState)(S(t,e,n)),l=(0,i.useRef)(e),c=(0,i.useRef)(n);c.current=n;const u=(0,i.useCallback)((e=>a(S(t,e,c.current))),[t]),d=(0,i.useCallback)((e=>{try{r(e)}catch(e){const{type:t,previousValue:n}=e;if("LEVA_ERROR"!==t)throw e;u(n)}}),[u,r]);return(0,i.useEffect)((()=>{(0,s.J)(e,l.current)||u(e),l.current=e}),[e,u]),{displayValue:o,onChange:a,onUpdate:d}}function lt(e,t){const{emitOnEditStart:n,emitOnEditEnd:r}=pe();return(0,h.useDrag)((t=>{t.first&&(document.body.classList.add("leva__panel__dragged"),null==n||n());const o=e(t);return t.last&&(document.body.classList.remove("leva__panel__dragged"),null==r||r()),o}),t)}function st(){const e=(0,i.useRef)(null),t=(0,i.useRef)({x:0,y:0}),n=(0,i.useCallback)((n=>{Object.assign(t.current,n),e.current&&(e.current.style.transform=`translate3d(${t.current.x}px, ${t.current.y}px, 0)`)}),[]);return[e,n]}const ct=["__refCount"],ut=(e,t)=>e[t]?g(e[t],ct):null,dt=we("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),ht=we("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),pt=we("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),gt=we("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),ft=we("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function mt({value:e,min:t,max:n,onDrag:r,step:o,initialValue:l}){const s=(0,i.useRef)(null),c=(0,i.useRef)(null),u=(0,i.useRef)(0),d=Se("sizes","scrubberWidth"),h=lt((({event:i,first:a,xy:[h],movement:[p],memo:g})=>{if(a){const{width:r,left:o}=s.current.getBoundingClientRect();u.current=r-parseFloat(d),g=(null==i?void 0:i.target)===c.current?e:z((h-o)/r,t,n)}const f=g+z(p/u.current,0,n-t);return r(ce(f,{step:o,initialValue:l})),g})),p=U(e,t,n);return a().createElement(gt,de({ref:s},h()),a().createElement(ht,null,a().createElement(ft,{style:{left:0,right:100*(1-p)+"%"}})),a().createElement(pt,{ref:c,style:{left:`calc(${p} * (100% - ${d}))`}}))}const vt=a().memo((({label:e,onUpdate:t,step:n,innerLabelTrim:r})=>{const[o,l]=(0,i.useState)(!1),s=lt((({active:e,delta:[r],event:o,memo:i=0})=>(l(e),i+=r/2,Math.abs(i)>=1&&(t((e=>parseFloat(e)+Math.floor(i)*n*oe(o))),i=0),i)));return a().createElement(Pe,de({dragging:o,title:e.length>1?e:""},s()),e.slice(0,r))}));function bt({label:e,id:t,displayValue:n,onUpdate:r,onChange:o,settings:i,innerLabelTrim:l=1}){const s=l>0&&a().createElement(vt,{label:e,step:i.step,onUpdate:r,innerLabelTrim:l});return a().createElement(Ue,{id:t,value:String(n),onUpdate:r,onChange:o,innerLabel:s})}const{sanitizeStep:Et}=ue;var yt=P({component:function(){const e=pe(),{label:t,value:n,onUpdate:r,settings:o,id:i}=e,{min:l,max:s}=o,c=s!==1/0&&l!==-1/0;return a().createElement(it,{input:!0},a().createElement(et,null,t),a().createElement(dt,{hasRange:c},c&&a().createElement(mt,de({value:parseFloat(n),onDrag:r},o)),a().createElement(bt,de({},e,{id:i,label:"value",innerLabelTrim:c?0:1}))))}},g(ue,["sanitizeStep"])),$t=Object.freeze({__proto__:null,schema:(e,t)=>(0,u.Z)().schema({options:(0,u.Z)().passesAnyOf((0,u.Z)().object(),(0,u.Z)().array())}).test(t),sanitize:(e,{values:t})=>{if(t.indexOf(e)<0)throw Error("Selected value doesn't match Select options");return e},format:(e,{values:t})=>t.indexOf(e),normalize:e=>{let t,n,{value:r,options:o}=e;return Array.isArray(o)?(n=o,t=o.map((e=>String(e)))):(n=Object.values(o),t=Object.keys(o)),"value"in e?n.includes(r)||(t.unshift(String(r)),n.unshift(r)):r=n[0],Object.values(o).includes(r)||(o[String(r)]=r),{value:r,settings:{keys:t,values:n}}}});const wt=we("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),xt=we("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Ct=we("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${xt}:focus + &`]:{$focusStyle:""},[`${xt}:hover + &`]:{$hoverStyle:""}});function Rt({displayValue:e,value:t,onUpdate:n,id:r,settings:o,disabled:l}){const{keys:s,values:c}=o,u=(0,i.useRef)();return t===c[e]&&(u.current=s[e]),a().createElement(wt,null,a().createElement(xt,{id:r,value:e,onChange:e=>n(c[Number(e.currentTarget.value)]),disabled:l},s.map(((e,t)=>a().createElement("option",{key:e,value:t},e)))),a().createElement(Ct,null,u.current),a().createElement(rt,{toggled:!0}))}var kt=P({component:function(){const{label:e,value:t,displayValue:n,onUpdate:r,id:o,disabled:i,settings:l}=pe();return a().createElement(it,{input:!0},a().createElement(et,null,e),a().createElement(Rt,{id:o,value:t,displayValue:n,onUpdate:r,settings:l,disabled:i}))}},$t),Ot=Object.freeze({__proto__:null,schema:e=>(0,u.Z)().string().test(e),sanitize:e=>{if("string"!=typeof e)throw Error("Invalid string");return e},normalize:({value:e,editable:t=!0,rows:n=!1})=>({value:e,settings:{editable:t,rows:"number"==typeof n?n:n?5:0}})});const St=["displayValue","onUpdate","onChange","editable"],Tt=we("div",{whiteSpace:"pre-wrap"});function _t(e){let{displayValue:t,onUpdate:n,onChange:r,editable:o=!0}=e,i=g(e,St);return o?a().createElement(Le,de({value:t,onUpdate:n,onChange:r},i)):a().createElement(Tt,null,t)}var Pt=P({component:function(){const{label:e,settings:t,displayValue:n,onUpdate:r,onChange:o}=pe();return a().createElement(it,{input:!0},a().createElement(et,null,e),a().createElement(_t,de({displayValue:n,onUpdate:r,onChange:o},t)))}},Ot),Nt=Object.freeze({__proto__:null,schema:e=>(0,u.Z)().boolean().test(e),sanitize:e=>{if("boolean"!=typeof e)throw Error("Invalid boolean");return e}});const It=we("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function jt({value:e,onUpdate:t,id:n,disabled:r}){return a().createElement(It,null,a().createElement("input",{id:n,type:"checkbox",checked:e,onChange:e=>t(e.currentTarget.checked),disabled:r}),a().createElement("label",{htmlFor:n},a().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},a().createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}var Lt=P({component:function(){const{label:e,value:t,onUpdate:n,disabled:r,id:o}=pe();return a().createElement(it,{input:!0},a().createElement(et,null,e),a().createElement(jt,{value:t,onUpdate:n,id:o,disabled:r}))}},Nt);const Ut=["locked"];function zt({value:e,id:t,valueKey:n,settings:r,onUpdate:o,innerLabelTrim:l}){const s=(0,i.useRef)(e[n]);s.current=e[n];const c=(0,i.useCallback)((e=>o({[n]:ne({type:"NUMBER",value:s.current,settings:r},e)})),[o,r,n]),u=at({type:"NUMBER",value:e[n],settings:r,setValue:c});return a().createElement(bt,{id:t,label:n,value:e[n],displayValue:u.displayValue,onUpdate:u.onUpdate,onChange:u.onChange,settings:r,innerLabelTrim:l})}const Mt=we("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Dt(e){let{locked:t}=e,n=g(e,Ut);return a().createElement("svg",de({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),t?a().createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):a().createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Vt({value:e,onUpdate:t,settings:n,innerLabelTrim:r}){const{id:o,setSettings:i}=pe(),{lock:l,locked:s}=n;return a().createElement(Mt,{withLock:l},l&&a().createElement(Dt,{locked:s,onClick:()=>i({locked:!s})}),Object.keys(e).map(((i,l)=>a().createElement(zt,{id:0===l?o:`${o}.${i}`,key:i,valueKey:i,value:e,settings:n[i],onUpdate:t,innerLabelTrim:r}))))}const At=(e,t)=>{const n={};let r=0,o=1/0;Object.entries(e).forEach((([e,i])=>{n[e]=se(P({value:i},t[e])).settings,r=Math.max(r,n[e].step),o=Math.min(o,n[e].pad)}));for(let e in n){const{step:i,min:a,max:l}=t[e]||{};isFinite(i)||isFinite(a)&&isFinite(l)||(n[e].step=r,n[e].pad=o)}return n},Ht=["lock"],Ft=["value"];function Bt(e){const t=(0,u.Z)().array().length(e).every.number();return n=>t.test(n)||(t=>{if(!t||"object"!=typeof t)return!1;const n=Object.values(t);return n.length===e&&n.every((e=>isFinite(e)))})(n)}function Wt(e,t,n){return function(e){return Array.isArray(e)?"array":"object"}(e)===t?e:"array"===t?Object.values(e):function(e,t){return e.reduce(((e,n,r)=>Object.assign(e,{[t[r]]:n})),{})}(e,n)}function Gt(e){return{schema:Bt(e.length),normalize:t=>{let{value:n}=t;return function(e,t,n=[]){const{lock:r=!1}=t,o=g(t,Ht),i=Array.isArray(e)?"array":"object",a="object"===i?Object.keys(e):n,l=Wt(e,"object",a),s=(c=o)&&("step"in c||"min"in c||"max"in c)?a.reduce(((e,t)=>Object.assign(e,{[t]:o})),{}):o;var c;return{value:"array"===i?e:l,settings:P(P({},At(l,s)),{},{format:i,keys:a,lock:r,locked:!1})}}(n,g(t,Ft),e)},format:(e,t)=>((e,t)=>Wt(e,"object",t.keys))(e,t),sanitize:(e,t,n)=>((e,t,n)=>{const r=Wt(e,"object",t.keys);for(let e in r)r[e]=le(r[e],t[e]);const o=Object.keys(r);let i={};if(o.length===t.keys.length)i=r;else{const e=Wt(n,"object",t.keys);if(1===o.length&&t.locked){const t=o[0],n=r[t],a=e[t],l=0!==a?n/a:1;for(let r in e)r===t?i[t]=n:i[r]=e[r]*l}else i=P(P({},e),r)}return Wt(i,t.format,t.keys)})(e,t,n)}}var Kt=n(32738),Yt=n(27696),Zt=n(28568),Xt=n(47199),Jt=n(61203),qt=n(38704),Qt=n(47950),en=n.n(Qt);const tn=(...e)=>e.filter(Boolean).join(".");function nn(e,t){return(0,i.useMemo)(e,function(e,t){const n=(0,i.useRef)();return(0,s.J)(e,n.current)||(n.current=e),n.current}(t))}function rn(e=3){const t=(0,i.useRef)(null),n=(0,i.useRef)(null),[r,o]=(0,i.useState)(!1),a=(0,i.useCallback)((()=>o(!0)),[]),l=(0,i.useCallback)((()=>o(!1)),[]);return(0,i.useLayoutEffect)((()=>{if(r){const{bottom:r,top:o,left:i}=t.current.getBoundingClientRect(),{height:a}=n.current.getBoundingClientRect(),l=r+a>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=i+"px","down"===l?n.current.style.top=r+e+"px":n.current.style.bottom=window.innerHeight-o+e+"px"}}),[e,r]),{popinRef:t,wrapperRef:n,shown:r,show:a,hide:l}}(0,Kt.l7)([Yt.Z]);const on={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};function an(e,{format:t,hasAlpha:n,isString:r}){const o=e[on[t]+(r&&"hex"!==t?"String":"")]();return"object"!=typeof o||n?o:function(e,t){const n=P({},e);return["a"].forEach((t=>t in e&&delete n[t])),n}(o)}u.Z.extend({color:()=>e=>(0,Kt.Vi)(e).isValid()});const ln=(e,t)=>{const n=(0,Kt.Vi)(e);if(!n.isValid())throw Error("Invalid color");return an(n,t)};var sn=Object.freeze({__proto__:null,schema:e=>(0,u.Z)().color().test(e),sanitize:ln,format:(e,t)=>an((0,Kt.Vi)(e),P(P({},t),{},{isString:!0,format:"hex"})),normalize:({value:e})=>{const t=(0,Kt.y6)(e),n={format:"name"===t?"hex":t,hasAlpha:"object"==typeof e?"a"in e:"hex"===t&&8===e.length||/^(rgba)|(hsla)|(hsva)/.test(e),isString:"string"==typeof e};return{value:ln(e,n),settings:n}}});const cn=we("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:'url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')',$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),un=we("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),dn=we("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function hn(e,t){return"rgb"!==t?(0,Kt.Vi)(e).toRgb():e}function pn({value:e,displayValue:t,settings:n,onUpdate:r}){const{emitOnEditStart:o,emitOnEditEnd:l}=pe(),{format:s,hasAlpha:c}=n,{popinRef:u,wrapperRef:d,shown:h,show:p,hide:g}=rn(),f=(0,i.useRef)(0),[m,v]=(0,i.useState)((()=>hn(e,s))),b=c?Zt.Jg:Zt.Ts,E=()=>{g(),l(),window.clearTimeout(f.current)};return(0,i.useEffect)((()=>()=>window.clearTimeout(f.current)),[]),a().createElement(a().Fragment,null,a().createElement(cn,{ref:u,active:h,onClick:()=>(v(hn(e,s)),p(),void o()),style:{color:t}}),h&&a().createElement(Xe,null,a().createElement(Ke,{onPointerUp:E}),a().createElement(dn,{ref:d,onMouseEnter:()=>window.clearTimeout(f.current),onMouseLeave:e=>0===e.buttons&&void(f.current=window.setTimeout(E,500))},a().createElement(b,{color:m,onChange:r}))))}var gn=P({component:function(){const{value:e,displayValue:t,label:n,onChange:r,onUpdate:o,settings:i}=pe();return a().createElement(it,{input:!0},a().createElement(et,null,n),a().createElement(un,null,a().createElement(pn,{value:e,displayValue:t,onChange:r,onUpdate:o,settings:i}),a().createElement(Le,{value:t,onChange:r,onUpdate:o})))}},sn),fn=P({component:function(){const{label:e,displayValue:t,onUpdate:n,settings:r}=pe();return a().createElement(it,{input:!0},a().createElement(et,null,e),a().createElement(Vt,{value:t,settings:r,onUpdate:n}))}},Gt(["x","y","z"]));const mn=we("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),vn=we("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function bn({value:e,settings:t,onUpdate:n}){const r=(0,i.useRef)(),o=(0,i.useRef)(0),l=(0,i.useRef)(0),s=(0,i.useRef)(1),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[p,g]=st(),f=(0,i.useRef)(null),m=(0,i.useRef)(null);(0,i.useLayoutEffect)((()=>{if(c){const{top:e,left:t,width:n,height:r}=f.current.getBoundingClientRect();m.current.style.left=t+n/2+"px",m.current.style.top=e+r/2+"px"}}),[c]);const{keys:[v,b],joystick:E}=t,y="invertY"===E?1:-1,{[v]:{step:$},[b]:{step:w}}=t,x=Se("sizes","joystickWidth"),C=Se("sizes","joystickHeight"),R=.8*parseFloat(x)/2,k=.8*parseFloat(C)/2,O=(0,i.useCallback)((()=>{r.current||(h(!0),o.current&&g({x:o.current*R}),l.current&&g({y:l.current*-k}),r.current=window.setInterval((()=>{n((e=>{const t=$*o.current*s.current,n=y*w*l.current*s.current;return Array.isArray(e)?{[v]:e[0]+t,[b]:e[1]+n}:{[v]:e[v]+t,[b]:e[b]+n}}))}),16))}),[R,k,n,g,$,w,v,b,y]),S=(0,i.useCallback)((()=>{window.clearTimeout(r.current),r.current=void 0,h(!1)}),[]);(0,i.useEffect)((()=>{function e(e){s.current=oe(e)}return window.addEventListener("keydown",e),window.addEventListener("keyup",e),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",e),window.removeEventListener("keyup",e)}}),[]);const T=lt((({first:t,active:r,delta:[i,a],movement:[c,d]})=>{t&&u(!0);const h=N(c,-R,R),p=N(d,-k,k);o.current=Math.abs(c)>Math.abs(h)?Math.sign(c-h):0,l.current=Math.abs(d)>Math.abs(p)?Math.sign(p-d):0;let f=e[v],m=e[b];r?(o.current||(f+=i*$*s.current,g({x:h})),l.current||(m-=y*a*w*s.current,g({y:p})),o.current||l.current?O():S(),n({[v]:f,[b]:m})):(u(!1),o.current=0,l.current=0,g({x:0,y:0}),S())}));return a().createElement(mn,de({ref:f},T()),c&&a().createElement(Xe,null,a().createElement(vn,{ref:m,isOutOfBounds:d},a().createElement("div",null),a().createElement("span",{ref:p}))))}const En=we("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}}),yn=["joystick"],$n=Gt(["x","y"]);var wn=P(P({component:function(){const{label:e,displayValue:t,onUpdate:n,settings:r}=pe();return a().createElement(it,{input:!0},a().createElement(et,null,e),a().createElement(En,{withJoystick:!!r.joystick},r.joystick&&a().createElement(bn,{value:t,settings:r,onUpdate:n}),a().createElement(Vt,{value:t,settings:r,onUpdate:n})))}},$n),{},{normalize:e=>{let{joystick:t=!0}=e,n=g(e,yn);const{value:r,settings:o}=$n.normalize(n);return{value:r,settings:P(P({},o),{},{joystick:t})}}}),xn=Object.freeze({__proto__:null,sanitize:e=>{if(void 0!==e){if(e instanceof File)try{return URL.createObjectURL(e)}catch(e){return}if("string"==typeof e&&0===e.indexOf("blob:"))return e;throw Error("Invalid image format [undefined | blob | File].")}},schema:(e,t)=>"object"==typeof t&&"image"in t,normalize:({image:e})=>({value:e})});const Cn=we("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Rn=we("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),kn=we("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),On=we("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Sn=we("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Tn=we("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});var _n=P({component:function(){const{label:e,value:t,onUpdate:n,disabled:r}=pe(),{popinRef:o,wrapperRef:l,shown:s,show:c,hide:u}=rn(),d=(0,i.useCallback)((e=>{e.length&&n(e[0])}),[n]),h=(0,i.useCallback)((e=>{e.stopPropagation(),n(void 0)}),[n]),{getRootProps:p,getInputProps:g,isDragAccept:f}=(0,Xt.uI)({maxFiles:1,accept:"image/*",onDrop:d,disabled:r});return a().createElement(it,{input:!0},a().createElement(et,null,e),a().createElement(Cn,null,a().createElement(kn,{ref:o,hasImage:!!t,onPointerDown:()=>!!t&&c(),onPointerUp:u,style:{backgroundImage:t?`url(${t})`:"none"}}),s&&!!t&&a().createElement(Xe,null,a().createElement(Ke,{onPointerUp:u,style:{cursor:"pointer"}}),a().createElement(On,{ref:l,style:{backgroundImage:`url(${t})`}})),a().createElement(Rn,p({isDragAccept:f}),a().createElement("input",g()),a().createElement(Sn,null,f?"drop image":"click or drop")),a().createElement(Tn,{onClick:h,disabled:!t})))}},xn);const Pn=(0,u.Z)().number(),Nn=e=>({min:e[0],max:e[1]}),In=(e,{bounds:[t,n]},r)=>{const o=Array.isArray(e)?Nn(e):e,i={min:r[0],max:r[1]},{min:a,max:l}=P(P({},i),o);return[N(Number(a),t,Math.max(t,l)),N(Number(l),Math.min(n,a),n)]};var jn=Object.freeze({__proto__:null,schema:(e,t)=>(0,u.Z)().array().length(2).every.number().test(e)&&(0,u.Z)().schema({min:Pn,max:Pn}).test(t),format:Nn,sanitize:In,normalize:({value:e,min:t,max:n})=>{const r={min:t,max:n},o=[t,n],i=P(P({},At(Nn(e),{min:r,max:r})),{},{bounds:o});return{value:In(Nn(e),i,e),settings:i}}});const Ln=["value","bounds","onDrag"],Un=["bounds"],zn=we("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function Mn(e){let{value:t,bounds:[n,r],onDrag:o}=e,l=g(e,Ln);const s=(0,i.useRef)(null),c=(0,i.useRef)(null),u=(0,i.useRef)(null),d=(0,i.useRef)(0),h=Se("sizes","scrubberWidth"),p=lt((({event:e,first:i,xy:[a],movement:[p],memo:g={}})=>{if(i){const{width:o,left:i}=s.current.getBoundingClientRect();d.current=o-parseFloat(h);const l=(null==e?void 0:e.target)===c.current||(null==e?void 0:e.target)===u.current;g.pos=z((a-i)/o,n,r);const p=Math.abs(g.pos-t.min)-Math.abs(g.pos-t.max);g.key=p<0||0===p&&g.pos<=t.min?"min":"max",l&&(g.pos=t[g.key])}const f=g.pos+z(p/d.current,0,r-n);return o({[g.key]:Et(f,l[g.key])}),g})),f=`calc(${U(t.min,n,r)} * (100% - ${h} - 8px) + 4px)`,m=`calc(${1-U(t.max,n,r)} * (100% - ${h} - 8px) + 4px)`;return a().createElement(gt,de({ref:s},p()),a().createElement(ht,null,a().createElement(ft,{style:{left:f,right:m}})),a().createElement(pt,{position:"left",ref:c,style:{left:f}}),a().createElement(pt,{position:"right",ref:u,style:{right:m}}))}var Dn=P({component:function(){const{label:e,displayValue:t,onUpdate:n,settings:r}=pe(),o=g(r,Un);return a().createElement(a().Fragment,null,a().createElement(it,{input:!0},a().createElement(et,null,e),a().createElement(zn,null,a().createElement(Mn,de({value:t},r,{onDrag:n})),a().createElement(Vt,{value:t,settings:o,onUpdate:n,innerLabelTrim:0}))))}},jn);const Vn=["type","value"],An=["onChange","transient","onEditStart","onEditEnd"],Hn=function(){const e=(0,Jt.Z)((0,qt.XR)((()=>({data:{}})))),t=(()=>{const e=new Map;return{on:(t,n)=>{let r=e.get(t);void 0===r&&(r=new Set,e.set(t,r)),r.add(n)},off:(t,n)=>{const r=e.get(t);void 0!==r&&(r.delete(n),0===r.size&&e.delete(t))},emit:(t,...n)=>{const r=e.get(t);if(void 0!==r)for(const e of r)e(...n)}}})();this.storeId="_"+Math.random().toString(36).substr(2,9),this.useStore=e;const n={},r=new Set;this.getVisiblePaths=()=>{const e=this.getData(),t=Object.keys(e),o=[];Object.entries(n).forEach((([e,n])=>{n.render&&t.some((t=>0===t.indexOf(e)))&&!n.render(this.get)&&o.push(e+".")}));const i=[];return r.forEach((t=>{t in e&&e[t].__refCount>0&&o.every((e=>-1===t.indexOf(e)))&&(!e[t].render||e[t].render(this.get))&&i.push(t)})),i},this.setOrderedPaths=e=>{e.forEach((e=>r.add(e)))},this.orderPaths=e=>(this.setOrderedPaths(e),e),this.disposePaths=t=>{e.setState((e=>{const n=e.data;return t.forEach((e=>{if(e in n){const t=n[e];t.__refCount--,0===t.__refCount&&t.type in K&&delete n[e]}})),{data:n}}))},this.dispose=()=>{e.setState((()=>({data:{}})))},this.getFolderSettings=e=>n[e]||{},this.getData=()=>e.getState().data,this.addData=(t,n)=>{e.setState((e=>{const r=e.data;return Object.entries(t).forEach((([e,t])=>{let o=r[e];if(o){const{type:e,value:r}=t,i=g(t,Vn);e!==o.type?b(f.INPUT_TYPE_OVERRIDE,e):((0===o.__refCount||n)&&Object.assign(o,i),o.__refCount++)}else r[e]=P(P({},t),{},{__refCount:1})})),{data:r}}))},this.setValueAtPath=(t,n,r)=>{e.setState((e=>{const o=e.data;return ee(o[t],n,t,this,r),{data:o}}))},this.setSettingsAtPath=(t,n)=>{e.setState((e=>{const r=e.data;return r[t].settings=P(P({},r[t].settings),n),{data:r}}))},this.disableInputAtPath=(t,n)=>{e.setState((e=>{const r=e.data;return r[t].disabled=n,{data:r}}))},this.set=(t,n)=>{e.setState((e=>{const r=e.data;return Object.entries(t).forEach((([e,t])=>{try{ee(r[e],t,void 0,void 0,n)}catch(e){}})),{data:r}}))},this.getInput=e=>{try{return this.getData()[e]}catch(t){b(f.PATH_DOESNT_EXIST,e)}},this.get=e=>{var t;return null===(t=this.getInput(e))||void 0===t?void 0:t.value},this.emitOnEditStart=e=>{t.emit(`onEditStart:${e}`,this.get(e),e,P(P({},this.getInput(e)),{},{get:this.get}))},this.emitOnEditEnd=e=>{t.emit(`onEditEnd:${e}`,this.get(e),e,P(P({},this.getInput(e)),{},{get:this.get}))},this.subscribeToEditStart=(e,n)=>{const r=`onEditStart:${e}`;return t.on(r,n),()=>t.off(r,n)},this.subscribeToEditEnd=(e,n)=>{const r=`onEditEnd:${e}`;return t.on(r,n),()=>t.off(r,n)};const o=(e,t,r)=>{const i={};return Object.entries(e).forEach((([e,a])=>{if(""===e)return b(f.EMPTY_KEY);let l=tn(t,e);if(a.type===K.FOLDER){const e=o(a.schema,l,r);Object.assign(i,e),l in n||(n[l]=a.settings)}else if(e in r)b(f.DUPLICATE_KEYS,e,l,r[e].path);else{const t=Q(a,e,l,i);if(t){const{type:n,options:o,input:a}=t,{onChange:s,transient:c,onEditStart:u,onEditEnd:d}=o,h=g(o,An);i[l]=P(P(P({type:n},h),a),{},{fromPanel:!0}),r[e]={path:l,onChange:s,transient:c,onEditStart:u,onEditEnd:d}}else b(f.UNKNOWN_INPUT,l,a)}})),i};this.getDataFromSchema=e=>{const t={};return[o(e,"",t),t]}},Fn=new Hn;function Bn(){return(0,i.useMemo)((()=>new Hn),[])}const Wn={collapsed:!1};function Gn(e,t){return{type:K.FOLDER,schema:e,settings:P(P({},Wn),t)}}const Kn={disabled:!1};function Yn(e,t){return{type:K.BUTTON,onClick:e,settings:P(P({},Kn),t)}}function Zn(e){return{type:K.BUTTON_GROUP,opts:e}}const Xn={graph:!1,interval:100};function Jn(e,t){return{type:K.MONITOR,objectOrFn:e,settings:P(P({},Xn),t)}}const qn=e=>"__levaInput"in e,Qn=["type","label","path","valueKey","value","settings","setValue","disabled"];function er(e){let{type:t,label:n,path:r,valueKey:o,value:i,settings:l,setValue:s,disabled:c}=e,u=g(e,Qn);const{displayValue:d,onChange:h,onUpdate:p}=at({type:t,value:i,settings:l,setValue:s}),m=C[t].component;return m?a().createElement(he.Provider,{value:P({key:o,path:r,id:""+r,label:n,displayValue:d,value:i,onChange:h,onUpdate:p,settings:l,setValue:s,disabled:c},u)},a().createElement(Ge,{disabled:c},a().createElement(m,null))):(b(f.NO_COMPONENT_FOR_TYPE,t,r),null)}const tr=we("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}}),nr=we("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),rr=we("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),or=we("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),ir=(0,i.forwardRef)((function({initialValue:e},t){const n=Se("colors","highlight3"),r=Se("colors","elevation2"),o=Se("colors","highlight1"),[l,s]=(0,i.useMemo)((()=>[(0,Kt.Vi)(o).alpha(.4).toRgbString(),(0,Kt.Vi)(o).alpha(.1).toRgbString()]),[o]),c=(0,i.useRef)([e]),u=(0,i.useRef)(e),d=(0,i.useRef)(e),h=(0,i.useRef)(),p=(0,i.useCallback)(((e,t)=>{if(!e)return;const{width:o,height:i}=e,a=new Path2D,h=o/100,p=.05*i;for(let e=0;e<c.current.length;e++){const t=h*e,n=i-U(c.current[e],u.current,d.current)*(i-2*p)-p;a.lineTo(t,n)}t.clearRect(0,0,o,i);const g=new Path2D(a);g.lineTo(h*(c.current.length+1),i),g.lineTo(0,i),g.lineTo(0,0);const f=t.createLinearGradient(0,0,0,i);f.addColorStop(0,l),f.addColorStop(1,s),t.fillStyle=f,t.fill(g),t.strokeStyle=r,t.lineJoin="round",t.lineWidth=14,t.stroke(a),t.strokeStyle=n,t.lineWidth=2,t.stroke(a)}),[n,r,l,s]),[g,f]=function(e){const t=(0,i.useRef)(null),n=(0,i.useRef)(null),r=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{const o=re((()=>{t.current.width=t.current.offsetWidth*window.devicePixelRatio,t.current.height=t.current.offsetHeight*window.devicePixelRatio,e(t.current,n.current)}),250);return window.addEventListener("resize",o),r.current||(o(),r.current=!0),()=>window.removeEventListener("resize",o)}),[e]),(0,i.useEffect)((()=>{n.current=t.current.getContext("2d")}),[]),[t,n]}(p);return(0,i.useImperativeHandle)(t,(()=>({frame:e=>{(void 0===u.current||e<u.current)&&(u.current=e),(void 0===d.current||e>d.current)&&(d.current=e),function(e,t){e.push(t),e.length>100&&e.shift()}(c.current,e),h.current=requestAnimationFrame((()=>p(g.current,f.current)))}})),[g,f,p]),(0,i.useEffect)((()=>()=>cancelAnimationFrame(h.current)),[]),a().createElement(or,{ref:g})})),ar=e=>Number.isFinite(e)?e.toPrecision(2):e.toString(),lr=(0,i.forwardRef)((function({initialValue:e},t){const[n,r]=(0,i.useState)(ar(e));return(0,i.useImperativeHandle)(t,(()=>({frame:e=>r(ar(e))})),[]),a().createElement("div",null,n)}));function sr(e){return"function"==typeof e?e():e.current}const cr=["type","label","key"],ur={[K.BUTTON]:function({onClick:e,settings:t,label:n}){const r=ve();return a().createElement(it,null,a().createElement(tr,{disabled:t.disabled,onClick:()=>e(r.get)},n))},[K.BUTTON_GROUP]:function(e){const{label:t,opts:n}=(({label:e,opts:t})=>{let n="string"==typeof e&&""===e.trim()?null:e,r=t;return"object"==typeof t.opts&&(void 0!==r.label&&(n=t.label),r=t.opts),{label:n,opts:r}})(e),r=ve();return a().createElement(it,{input:!!t},t&&a().createElement(et,null,t),a().createElement(nr,null,Object.entries(n).map((([e,t])=>a().createElement(rr,{key:e,onClick:()=>t(r.get)},e)))))},[K.MONITOR]:function({label:e,objectOrFn:t,settings:n}){const r=(0,i.useRef)(),o=(0,i.useRef)(sr(t));return(0,i.useEffect)((()=>{const e=window.setInterval((()=>{var e;document.hidden||null===(e=r.current)||void 0===e||e.frame(sr(t))}),n.interval);return()=>window.clearInterval(e)}),[t,n.interval]),a().createElement(it,{input:!0},a().createElement(et,{align:"top"},e),n.graph?a().createElement(ir,{ref:r,initialValue:o.current}):a().createElement(lr,{ref:r,initialValue:o.current}))}},dr=a().memo((({path:e})=>{const[t,{set:n,setSettings:r,disable:o,storeId:l,emitOnEditStart:s,emitOnEditEnd:u}]=function(e){const t=ve(),[n,r]=(0,i.useState)(ut(t.getData(),e)),o=(0,i.useCallback)((n=>t.setValueAtPath(e,n,!0)),[e,t]),a=(0,i.useCallback)((n=>t.setSettingsAtPath(e,n)),[e,t]),l=(0,i.useCallback)((n=>t.disableInputAtPath(e,n)),[e,t]),s=(0,i.useCallback)((()=>t.emitOnEditStart(e)),[e,t]),u=(0,i.useCallback)((()=>t.emitOnEditEnd(e)),[e,t]);return(0,i.useEffect)((()=>{r(ut(t.getData(),e));const n=t.useStore.subscribe((t=>ut(t.data,e)),r,{equalityFn:c.Z});return()=>n()}),[t,e]),[n,{set:o,setSettings:a,disable:l,storeId:t.storeId,emitOnEditStart:s,emitOnEditEnd:u}]}(e);if(!t)return null;const{type:d,label:h,key:p}=t,m=g(t,cr);if(d in K){const t=ur[d];return a().createElement(t,de({label:h,path:e},m))}return d in C?a().createElement(er,de({key:l+e,type:d,label:h,storeId:l,path:e,valueKey:p,setValue:n,setSettings:r,disable:o,emitOnEditStart:s,emitOnEditEnd:u},m)):(E(f.UNSUPPORTED_INPUT,d,e),null)}));function hr({toggle:e,toggled:t,name:n}){return a().createElement(De,{onClick:()=>e()},a().createElement(rt,{toggled:t}),a().createElement("div",null,n))}const pr=({name:e,path:t,tree:n})=>{const r=ve(),o=tn(t,e),{collapsed:l,color:s}=r.getFolderSettings(o),[c,u]=(0,i.useState)(!l),d=(0,i.useRef)(null),h=Se("colors","folderWidgetColor"),p=Se("colors","folderTextColor");return(0,i.useLayoutEffect)((()=>{d.current.style.setProperty("--leva-colors-folderWidgetColor",s||h),d.current.style.setProperty("--leva-colors-folderTextColor",s||p)}),[s,h,p]),a().createElement(ze,{ref:d},a().createElement(hr,{name:e,toggled:c,toggle:()=>u((e=>!e))}),a().createElement(gr,{parent:o,tree:n,toggled:c}))},gr=a().memo((({isRoot:e=!1,fill:t=!1,flat:n=!1,parent:r,tree:o,toggled:l})=>{const{wrapperRef:s,contentRef:c}=function(e){const t=(0,i.useRef)(null),n=(0,i.useRef)(null),r=(0,i.useRef)(!0);return(0,i.useLayoutEffect)((()=>{e||(t.current.style.height="0px",t.current.style.overflow="hidden")}),[]),(0,i.useEffect)((()=>{if(r.current)return void(r.current=!1);let o;const i=t.current,a=()=>{e&&(i.style.removeProperty("height"),i.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};i.addEventListener("transitionend",a,{once:!0});const{height:l}=n.current.getBoundingClientRect();return i.style.height=l+"px",e||(i.style.overflow="hidden",o=window.setTimeout((()=>i.style.height="0px"),50)),()=>{i.removeEventListener("transitionend",a),clearTimeout(o)}}),[e]),{wrapperRef:t,contentRef:n}}(l),u=ve(),d=([e,t])=>{var n;return(qn(t)?null===(n=u.getInput(t.path))||void 0===n?void 0:n.order:u.getFolderSettings(tn(r,e)).order)||0},h=Object.entries(o).sort(((e,t)=>d(e)-d(t)));return a().createElement(Me,{ref:s,isRoot:e,fill:t,flat:n},a().createElement(Ve,{ref:c,isRoot:e,toggled:l},h.map((([e,t])=>qn(t)?a().createElement(dr,{key:t.path,valueKey:t.valueKey,path:t.path}):a().createElement(pr,{key:e,name:e,path:r,tree:t})))))})),fr=we("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${He}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),mr=we("i",{$flexCenter:"",width:40,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),vr=we("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),br=we("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${mr}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Er=we("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),yr=we("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:40}}}}),$r=a().forwardRef((({setFilter:e,toggle:t},n)=>{const[r,o]=(0,i.useState)(""),l=(0,i.useMemo)((()=>re(e,250)),[e]);return(0,i.useEffect)((()=>{l(r)}),[r,l]),a().createElement(a().Fragment,null,a().createElement(Er,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:e=>e.stopPropagation(),onChange:e=>{const n=e.currentTarget.value;t(!0),o(n)}}),a().createElement(mr,{onClick:()=>(e(""),void o("")),style:{visibility:r?"visible":"hidden"}},a().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},a().createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))}));function wr({setFilter:e,onDrag:t,onDragStart:n,onDragEnd:r,toggle:o,toggled:l,title:s,drag:c,filterEnabled:u,from:d}){const[h,p]=(0,i.useState)(!1),g=(0,i.useRef)(null);(0,i.useEffect)((()=>{var e,t;h?null===(e=g.current)||void 0===e||e.focus():null===(t=g.current)||void 0===t||t.blur()}),[h]);const f=lt((({offset:[e,o],first:i,last:a})=>{t({x:e,y:o}),i&&n({x:e,y:o}),a&&r({x:e,y:o})}),{filterTaps:!0,from:({offset:[e,t]})=>[(null==d?void 0:d.x)||e,(null==d?void 0:d.y)||t]});return(0,i.useEffect)((()=>{const e=e=>{"L"===e.key&&e.shiftKey&&e.metaKey&&p((e=>!e))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]),a().createElement(a().Fragment,null,a().createElement(vr,{mode:c?"drag":void 0},a().createElement(mr,{active:!l,onClick:()=>o()},a().createElement(rt,{toggled:l,width:12,height:8})),a().createElement(yr,de({},c?f():{},{drag:c,filterEnabled:u}),void 0===s&&c?a().createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},a().createElement("circle",{cx:"2",cy:"2",r:"2"}),a().createElement("circle",{cx:"14",cy:"2",r:"2"}),a().createElement("circle",{cx:"26",cy:"2",r:"2"}),a().createElement("circle",{cx:"2",cy:"12",r:"2"}),a().createElement("circle",{cx:"14",cy:"12",r:"2"}),a().createElement("circle",{cx:"26",cy:"12",r:"2"})):s),u&&a().createElement(mr,{active:h,onClick:()=>p((e=>!e))},a().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},a().createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),a().createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),a().createElement(br,{toggled:h},a().createElement($r,{ref:g,setFilter:e,toggle:o})))}const xr=["store","hidden","theme","collapsed"];function Cr(e){let{store:t,hidden:n=!1,theme:r,collapsed:o=!1}=e,l=g(e,xr);const s=nn((()=>function(e){const t=Ee();if(!e)return{theme:t,className:""};Object.keys(e).forEach((n=>{Object.assign(t[n],e[n])}));const n=Ce(t);return{theme:t,className:n.className}}(r)),[r]),[c,u]=(0,i.useState)(!o),d="object"==typeof o?!o.collapsed:c,h=(0,i.useMemo)((()=>"object"==typeof o?e=>{"function"==typeof e?o.onChange(!e(!o.collapsed)):o.onChange(!e)}:u),[o]);return!t||n?null:a().createElement(ge.Provider,{value:s},a().createElement(Rr,de({store:t},l,{toggled:d,setToggle:h,rootClass:s.className})))}const Rr=a().memo((({store:e,rootClass:t,fill:n=!1,flat:r=!1,neverHide:o=!1,oneLineLabels:l=!1,titleBar:s={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:u=!1,toggled:d,setToggle:h})=>{var p,g;const f=(e=>{const[t,n]=(0,i.useState)(e.getVisiblePaths());return(0,i.useEffect)((()=>{n(e.getVisiblePaths());const t=e.useStore.subscribe(e.getVisiblePaths,n,{equalityFn:c.Z});return()=>t()}),[e]),t})(e),[m,v]=(0,i.useState)(""),b=(0,i.useMemo)((()=>((e,t)=>{const n={},r=t?t.toLowerCase():null;return e.forEach((e=>{const[t,o]=function(e){const t=e.split(".");return[t.pop(),t.join(".")||void 0]}(e);(!r||t.toLowerCase().indexOf(r)>-1)&&en()(n,o,{[t]:{__levaInput:!0,path:e}})})),n})(f,m)),[f,m]),[E,y]=st(),$=o||f.length>0,w="object"==typeof s&&s.title||void 0,x="object"!=typeof s||null===(p=s.drag)||void 0===p||p,C="object"!=typeof s||null===(g=s.filter)||void 0===g||g,R="object"==typeof s&&s.position||void 0,k="object"==typeof s&&s.onDrag||void 0,O="object"==typeof s&&s.onDragStart||void 0,S="object"==typeof s&&s.onDragEnd||void 0;return a().useEffect((()=>{y({x:null==R?void 0:R.x,y:null==R?void 0:R.y})}),[R,y]),Oe(),a().createElement(me.Provider,{value:{hideCopyButton:u}},a().createElement(fr,{ref:E,className:t,fill:n,flat:r,oneLineLabels:l,hideTitleBar:!s,style:{display:$?"block":"none"}},s&&a().createElement(wr,{onDrag:e=>{y(e),null==k||k(e)},onDragStart:e=>null==O?void 0:O(e),onDragEnd:e=>null==S?void 0:S(e),setFilter:v,toggle:e=>h((t=>null!=e?e:!t)),toggled:d,title:w,drag:x,filterEnabled:C,from:R}),$&&a().createElement(fe.Provider,{value:e},a().createElement(gr,{isRoot:!0,fill:n,flat:r,tree:b,toggled:d}))))})),kr=["isRoot"];let Or=!1,Sr=null;function Tr(e){let{isRoot:t=!1}=e,n=g(e,kr);return(0,i.useEffect)((()=>(Or=!0,!t&&Sr&&(Sr.remove(),Sr=null),()=>{t||(Or=!1)})),[t]),a().createElement(Cr,de({store:Fn},n))}const _r=["store"];function Pr(e){let{store:t}=e,n=g(e,_r);const r=ve(),o=void 0===t?r:t;return a().createElement(Cr,de({store:o},n))}function Nr(e,t,n,r,l){const{folderName:s,schema:u,folderSettings:d,hookSettings:h,deps:p}=function(e,t,n,r,o){let i,a,l,s,c;return"string"==typeof e?(a=e,i=t,Array.isArray(n)?c=n:n&&("store"in n?(s=n,c=r):(l=n,Array.isArray(r)?c=r:(s=r,c=o)))):(i=e,Array.isArray(t)?c=t:(s=t,c=n)),{schema:i,folderName:a,folderSettings:l,hookSettings:s,deps:c||[]}}(e,t,n,r,l),g="function"==typeof u,f=(0,i.useRef)(!1),m=(0,i.useRef)(!0),v=nn((()=>{f.current=!0;const e="function"==typeof u?u():u;return s?{[s]:Gn(e,d)}:e}),p);var b;b=!(null!=h&&h.store),(0,i.useEffect)((()=>{b&&!Or&&(Sr||(Sr=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Sr),function(e,t){const n=console.error;console.error=()=>{},o().render(e,t),console.error=n}(a().createElement(Tr,{isRoot:!0}),Sr))),Or=!0)}),[b]);const[E]=(0,i.useState)((()=>(null==h?void 0:h.store)||Fn)),[y,$]=(0,i.useMemo)((()=>E.getDataFromSchema(v)),[E,v]),[w,x,C,R,k]=(0,i.useMemo)((()=>{const e=[],t=[],n={},r={},o={};return Object.values($).forEach((({path:i,onChange:a,onEditStart:l,onEditEnd:s,transient:c})=>{e.push(i),a?(n[i]=a,c||t.push(i)):t.push(i),l&&(r[i]=l),s&&(o[i]=s)})),[e,t,n,r,o]}),[$]),O=(0,i.useMemo)((()=>E.orderPaths(w)),[w,E]),S=function(e,t,n){const r=e.useStore((e=>function(e,t){return Object.entries((n=e,r=t,r.reduce(((e,t)=>(n&&n.hasOwnProperty(t)&&(e[t]=n[t]),e)),{}))).reduce(((e,[,{value:t,disabled:n,key:r}])=>(e[r]=n?void 0:t,e)),{});var n,r}(P(P({},n),e.data),t)),c.Z);return r}(E,x,y),T=(0,i.useCallback)((e=>{const t=Object.entries(e).reduce(((e,[t,n])=>Object.assign(e,{[$[t].path]:n})),{});E.set(t,!1)}),[E,$]),_=(0,i.useCallback)((e=>E.get($[e].path)),[E,$]);return(0,i.useEffect)((()=>{const e=!m.current&&f.current;return E.addData(y,e),m.current=!1,f.current=!1,()=>E.disposePaths(O)}),[E,O,y]),(0,i.useEffect)((()=>{const e=[];return Object.entries(C).forEach((([t,n])=>{n(E.get(t),t,P({initial:!0,get:E.get},E.getInput(t)));const r=E.useStore.subscribe((e=>{const n=e.data[t];return[n.disabled?void 0:n.value,n]}),(([e,r])=>n(e,t,P({initial:!1,get:E.get},r))),{equalityFn:c.Z});e.push(r)})),()=>e.forEach((e=>e()))}),[E,C]),(0,i.useEffect)((()=>{const e=[];return Object.entries(R).forEach((([t,n])=>e.push(E.subscribeToEditStart(t,n)))),Object.entries(k).forEach((([t,n])=>e.push(E.subscribeToEditEnd(t,n)))),()=>e.forEach((e=>e()))}),[R,k,E]),g?[S,T,_]:S}k(Y.SELECT,kt),k(Y.IMAGE,_n),k(Y.NUMBER,yt),k(Y.COLOR,gn),k(Y.STRING,Pt),k(Y.BOOLEAN,Lt),k(Y.INTERVAL,Dn),k(Y.VECTOR3D,fn),k(Y.VECTOR2D,wn)}}]);