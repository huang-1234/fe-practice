// æ³¨æ„ï¼šjavascript ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ï¼Œæ—¨åœ¨å¸®åŠ©ä¸åŒèƒŒæ™¯çš„è¯»è€…ç†è§£ç®—æ³•é€»è¾‘ã€‚
// æœ¬ä»£ç è¿˜æœªç»è¿‡åŠ›æ‰£æµ‹è¯•ï¼Œä»…ä¾›å‚è€ƒï¼Œå¦‚æœ‰ç–‘æƒ‘ï¼Œå¯ä»¥å‚ç…§æˆ‘å†™çš„ java ä»£ç å¯¹æ¯”æŸ¥çœ‹ã€‚
function Random() {
  this.nextDouble = () => {
    return Math.random();
  }
}
/**
 * æ„é€ å‡½æ•°
 * @param {number[]} nums
 */
const Solution = function (nums) {
  // ç¼“å­˜ nums æ•°ç»„
  this.nums = nums;
  // ç¼“å­˜åŸå§‹é•¿åº¦
  this.n = nums.length;
  // ç¼“å­˜ä¸€ä¸ªéšæœºæ•°ç”Ÿæˆå™¨
  this.rand = new Random();
};

/**
* é‡ç½®ï¼Œè¿”å›åŸå§‹æ•°ç»„
* @return {number[]}
*/
Solution.prototype.reset = function () {
  // ç›´æ¥è¿”å›åŸæ•°ç»„å³å¯
  return this.nums;
};

/**
* éšæœºæ‰“ä¹± nums æ•°ç»„
* @return {number[]}
*/
Solution.prototype.shuffle = function () {
  // å¤åˆ¶ä¸€ä¸ªæ–°æ•°ç»„ï¼Œé¿å…ä¿®æ”¹åŸæ•°ç»„
  const copy = this.nums.slice();
  // éå†æ•°ç»„
  for (let i = 0;i < this.n;i++) {
    // ç”Ÿæˆä¸€ä¸ª [i, n-1] åŒºé—´å†…çš„éšæœºæ•´æ•°
    const r = i + Math.floor(this.rand.nextDouble() * (this.n - i));
    // äº¤æ¢ copy[i] å’Œ copy[r]
    const temp = copy[i];
    copy[i] = copy[r];
    copy[r] = temp;
  }
  // è¿”å›æ–°æ•°ç»„
  return copy;
};

// origin

// æ´—ç‰Œç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(N)ï¼Œè€Œä¸”é€»è¾‘å¾ˆç®€å•ï¼Œå…³é”®åœ¨äºè®©ä½ è¯æ˜ä¸ºä»€ä¹ˆè¿™æ ·åšæ˜¯æ­£ç¡®çš„ã€‚æ’åºç®—æ³•çš„ç»“æœæ˜¯å”¯ä¸€å¯ä»¥å¾ˆå®¹æ˜“æ£€éªŒçš„ï¼Œä½†éšæœºä¹±ç½®ç®—æ³•ä¸ä¸€æ ·ï¼Œä¹±å¯ä»¥æœ‰å¾ˆå¤šç§ï¼Œä½ æ€ä¹ˆèƒ½è¯æ˜ä½ çš„ç®—æ³•æ˜¯ã€ŒçœŸçš„ä¹±ã€å‘¢ï¼Ÿ

// åˆ†ææ´—ç‰Œç®—æ³•æ­£ç¡®æ€§çš„å‡†åˆ™ï¼šäº§ç”Ÿçš„ç»“æœå¿…é¡»æœ‰ n! ç§å¯èƒ½ã€‚è¿™ä¸ªå¾ˆå¥½è§£é‡Šï¼Œå› ä¸ºä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„çš„å…¨æ’åˆ—å°±æœ‰ n! ç§ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰“ä¹±ç»“æœæ€»å…±æœ‰ n! ç§ã€‚ç®—æ³•å¿…é¡»èƒ½å¤Ÿåæ˜ è¿™ä¸ªäº‹å®ï¼Œæ‰æ˜¯æ­£ç¡®çš„ã€‚

// æœ‰äº†è¿™ä¸ªåŸåˆ™å†çœ‹ä»£ç åº”è¯¥å°±å®¹æ˜“ç†è§£äº†ï¼š

// å¯¹äº nums[0]ï¼Œæˆ‘ä»¬æŠŠå®ƒéšæœºæ¢åˆ°äº†ç´¢å¼• [0, n) ä¸Šï¼Œå…±æœ‰ n ç§å¯èƒ½æ€§ï¼›

// å¯¹äº nums[1]ï¼Œæˆ‘ä»¬æŠŠå®ƒéšæœºæ¢åˆ°äº†ç´¢å¼• [1, n) ä¸Šï¼Œå…±æœ‰ n - 1 ç§å¯èƒ½æ€§ï¼›

// å¯¹äº nums[2]ï¼Œæˆ‘ä»¬æŠŠå®ƒéšæœºæ¢åˆ°äº†ç´¢å¼• [2, n) ä¸Šï¼Œå…±æœ‰ n - 2 ç§å¯èƒ½æ€§ï¼›

// ä»¥æ­¤ç±»æ¨ï¼Œè¯¥ç®—æ³•å¯ä»¥ç”Ÿæˆ n! ç§å¯èƒ½çš„ç»“æœï¼Œæ‰€ä»¥è¿™ä¸ªç®—æ³•æ˜¯æ­£ç¡®çš„ï¼Œèƒ½å¤Ÿä¿è¯éšæœºæ€§ã€‚
